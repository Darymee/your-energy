var R=Object.defineProperty;var S=t=>{throw TypeError(t)};var F=(t,e,r)=>e in t?R(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var p=(t,e,r)=>F(t,typeof e!="symbol"?e+"":e,r),D=(t,e,r)=>e.has(t)||S("Cannot "+r);var d=(t,e,r)=>(D(t,e,"read from private field"),r?r.call(t):e.get(t)),v=(t,e,r)=>e.has(t)?S("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,r);import{a as m}from"./vendor-2s9xPmg-.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const l of i.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&n(l)}).observe(document,{childList:!0,subtree:!0});function r(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=r(s);fetch(s.href,i)}})();(()=>{const t={openModalBtn:document.querySelector("[data-menu-open]"),closeModalBtn:document.querySelector("[data-menu-close]"),modal:document.querySelector("[data-menu]"),navLinks:document.querySelectorAll("[data-menu] .nav-link")};t.openModalBtn.addEventListener("click",e),t.closeModalBtn.addEventListener("click",e),t.navLinks.forEach(r=>r.addEventListener("click",e));function e(){t.modal.classList.toggle("is-open")}})();let x=window.location.pathname.split("/").pop()||"index.html",q=x===""||x==="index.html"?"home":x.replace(".html","");const f=document.querySelectorAll(".nav-link");f.forEach(t=>{t.dataset.page===q&&(t.classList.add("is-active"),t.classList.add("is-current"))});const P=document.querySelector(".nav-list"),L=document.querySelector(".nav-indicator");function g(t){if(!L||!P||!t)return;const e=P.getBoundingClientRect(),r=t.getBoundingClientRect(),n=r.left-e.left;L.style.width=r.width+"px",L.style.transform=`translateX(${n}px)`}let a=document.querySelector(".nav-link.is-active")||f[0];g(a);f.forEach(t=>{t.addEventListener("mouseenter",()=>{g(t),t!==a?a.classList.remove("is-current"):a.classList.add("is-current")}),t.addEventListener("click",e=>{if(t===a){e.preventDefault();return}if(t.dataset.page===q){e.preventDefault(),a=t,a.classList.add("is-current"),g(a);return}f.forEach(r=>r.classList.remove("is-active","is-current")),t.classList.add("is-active","is-current"),a=t})});P.addEventListener("mouseleave",()=>{g(a),a.classList.add("is-current")});window.addEventListener("resize",()=>{g(a)});const w=document.querySelector(".anchor-button");function j(t=1e3){const e=window.scrollY,r=performance.now();function n(s){const i=s-r,l=Math.min(i/t,1),$=1-Math.pow(1-l,3);window.scrollTo(0,e*(1-$)),l<1&&requestAnimationFrame(n)}requestAnimationFrame(n)}window.addEventListener("scroll",()=>{window.scrollY>300?w.classList.add("show"):w.classList.remove("show")});w.addEventListener("click",t=>{t.preventDefault(),j()});m.defaults.baseURL="https://your-energy.b.goit.study/api";m.defaults.headers.common["Content-Type"]="application/json";var y,u;class N{constructor(){p(this,"totalPages",0);p(this,"currentPage",1);p(this,"limitPage",12);p(this,"filterType","Muscles");v(this,y,()=>({filter:this.filterType,page:this.currentPage,limit:this.limitPage}));v(this,u,e=>{var r,n;return console.error("API Error:",e),Promise.reject(((n=(r=e.response)==null?void 0:r.data)==null?void 0:n.message)||e.message||"An unexpected error occurred")})}incrementPage(){this.currentPage<this.totalPages&&(this.currentPage+=1)}decrementPage(){this.currentPage>1&&(this.currentPage-=1)}changeSearchType(e){this.filterType=e,this.currentPage=1}hasMorePages(){return this.currentPage<this.totalPages}async getDataByFilter(){try{const e=await m.get("/filters",{params:d(this,y).call(this)});return this.totalPages=e.data.totalPages,e.data}catch(e){return d(this,u).call(this,e)}}async getExercises(e={},r=1,n=10){try{const s={...e,page:r,limit:n};return(await m.get("/exercises",{params:s})).data}catch(s){return d(this,u).call(this,s)}}async getExerciseById(e){try{return(await m.get(`/exercises/${e}`)).data}catch(r){return d(this,u).call(this,r)}}async rateExercise(e,r,n,s=""){try{if(r<1||r>5)throw new Error("Rating must be between 1 and 5");return(await m.patch(`/exercises/${e}/rating`,{rate:r,email:n,review:s})).data}catch(i){return d(this,u).call(this,i)}}async getQuote(){try{return(await m.get("/quote")).data}catch(e){return d(this,u).call(this,e)}}async subscribe(e){try{return await m.post("/subscription",{email:e})}catch(r){return d(this,u).call(this,r)}}}y=new WeakMap,u=new WeakMap;const o=new N,E={form:document.querySelector(".footer-form")},O=async t=>{t.preventDefault();const e=t.target.elements.email.value;try{const r=await o.subscribe(e);if(console.log(r),r.status===201){alert("Subscription successful!"),E.form.reset();return}}catch(r){console.log(r),E.form.reset()}};E.form.addEventListener("submit",O);const B={exCard({filter:t,name:e,imgURL:r}){return`<li class='exercises-item'>
            <div class='exercises-background-img' style='background-image: url(${r});'>
              <div class="exercises-wrap-info">
                <p>${(s=>s?s.split(" ").map(l=>l.charAt(0).toUpperCase()+l.slice(1).toLowerCase()).join(" "):"")(e)}</p>
                <p>${t}</p>
              </div>
            </div>
          </li>`},itemPagination(t){return`<button class="pagination-item" type="button">
          ${t}
        </button>`},quote(t,e){return`<p class="quote-card-text">
             ${e}
            </p>
            <p class="quote-card-author">${t}</p>`},skeletonExMarkup(t=o.limitPage){return Array.from({length:t}).map(()=>`
      <li class="exercises-item is-skeleton">
        <div class="exercises-background-img skeleton-bg"></div>
        <div class="exercises-wrap-info skeleton-info">
          <div class="skeleton-line skeleton-title"></div>
          <div class="skeleton-line skeleton-subtitle"></div>
        </div>
      </li>`).join("")}},c={listEx:document.querySelector(".exercises-list"),btnBox:document.querySelector(".exercises-thumb-btn"),paginationBox:document.querySelector(".pagination"),quoteBody:document.querySelector(".quote-card-body")};let h=o.limitPage;const b=c.btnBox.querySelector(".exercises-thumb-indicator"),k=()=>{const t=c.btnBox.querySelector("button.active");if(!t||!b)return;const e=c.btnBox.getBoundingClientRect(),r=t.getBoundingClientRect(),n=r.left-e.left,s=r.width;b.style.transform=`translateX(${n}px)`,b.style.width=`${s}px`},I=()=>{c.listEx.innerHTML=B.skeletonExMarkup(h)},M=t=>{const e=[];for(let r=1;r<=t;r++)e.push(B.itemPagination(r));c.paginationBox.innerHTML=e.join("")},T=t=>{const e=[...c.paginationBox.children];if(!e.length)return;e.forEach(n=>n.classList.remove("pagination-item-active"));const r=t-1;r>=0&&r<e.length&&e[r].classList.add("pagination-item-active")},A=t=>{const e=t.results.map(s=>B.exCard(s)),r=Math.max(0,h-e.length),n=Array.from({length:r}).map(()=>'<li class="exercises-item is-filler"></li>');c.listEx.innerHTML=[...e,...n].join(""),h=Math.max(e.length,o.limitPage)},C=async({updatePagination:t=!1}={})=>{I();const e=await o.getDataByFilter();A(e),t&&M(o.totalPages),T(o.currentPage)};async function z(){try{const t=await o.getDataByFilter();c.btnBox.children[0]&&c.btnBox.children[0].classList.add("active"),A(t),M(o.totalPages),T(o.currentPage)}catch(t){console.log("ðŸš€ ~ error:",t)}}z();const H=async t=>{try{const e=t.target.closest("button");if(!e)return;const r=e.dataset.type;if(!r)return;o.changeSearchType(r),h=o.limitPage,[...t.currentTarget.children].forEach(n=>n.classList.remove("active")),e.classList.add("active"),requestAnimationFrame(k),await C({updatePagination:!0})}catch(e){console.log("ðŸš€ ~ error:",e)}},U=async t=>{try{const e=t.target.closest("button");if(!e)return;const r=Number(e.textContent.trim());if(!Number.isFinite(r)||r===o.currentPage)return;o.currentPage=r,await C()}catch(e){console.log("ðŸš€ ~ error:",e)}};window.addEventListener("resize",k);c.btnBox.addEventListener("click",H);c.paginationBox.addEventListener("click",U);
//# sourceMappingURL=main-CJUcoqBU.js.map
