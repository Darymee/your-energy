{"version":3,"file":"main-9MnZIazD.js","sources":["../../src/js/burger.js","../../src/js/router.js","../../src/js/theme-switcher.js","../../src/js/anchor-button.js","../../src/js/api.js","../../src/js/footer-subscribe.js","../../src/js/local_storage.js","../../src/js/template.js","../../src/js/modal.js","../../src/js/exercises.js","../../src/js/search-bar.js"],"sourcesContent":["(() => {\n  const refs = {\n    // Ð”Ð¾Ð´Ð°Ñ‚Ð¸ Ð°Ñ‚Ñ€Ð¸Ð±ÑƒÑ‚ data-modal-open Ð½Ð° ÐºÐ½Ð¾Ð¿ÐºÑƒ Ð²Ñ–Ð´ÐºÑ€Ð¸Ñ‚Ñ‚Ñ\n    openModalBtn: document.querySelector('[data-menu-open]'),\n    // Ð”Ð¾Ð´Ð°Ñ‚Ð¸ Ð°Ñ‚Ñ€Ð¸Ð±ÑƒÑ‚ data-modal-close Ð½Ð° ÐºÐ½Ð¾Ð¿ÐºÑƒ Ð·Ð°ÐºÑ€Ð¸Ñ‚Ñ‚Ñ\n    closeModalBtn: document.querySelector('[data-menu-close]'),\n    // Ð”Ð¾Ð´Ð°Ñ‚Ð¸ Ð°Ñ‚Ñ€Ð¸Ð±ÑƒÑ‚ data-modal Ð½Ð° Ð±ÐµÐºÐ´Ñ€Ð¾Ð¿ Ð¼Ð¾Ð´Ð°Ð»ÐºÐ¸\n    modal: document.querySelector('[data-menu]'),\n\n    navLinks: document.querySelectorAll('[data-menu] .nav-link'),\n  };\n\n  refs.openModalBtn.addEventListener('click', toggleModal);\n  refs.closeModalBtn.addEventListener('click', toggleModal);\n  refs.navLinks.forEach(link => link.addEventListener('click', toggleModal));\n\n  function toggleModal() {\n    // is-open Ñ†Ðµ ÐºÐ»Ð°Ñ ÑÐºÐ¸Ð¹ Ð±ÑƒÐ´Ðµ Ð´Ð¾Ð´Ð°Ð²Ð°Ñ‚Ð¸ÑÑ/Ð·Ð°Ð±Ð¸Ñ€Ð°Ñ‚Ð¸ÑÑ Ð½Ð° Ð±ÐµÐºÐ´Ñ€Ð¾Ð¿ Ð¿Ñ€Ð¸ Ð½Ð°Ñ‚Ð¸ÑÐºÐ°Ð½Ð½Ñ– Ð½Ð° ÐºÐ½Ð¾Ð¿ÐºÐ¸\n    refs.modal.classList.toggle('is-open');\n  }\n})();\n","let file = window.location.pathname.split('/').pop() || 'index.html';\nlet currentPage =\n  file === '' || file === 'index.html' ? 'home' : file.replace('.html', ''); // 'favorites'\n\nconst links = document.querySelectorAll('.nav-link');\n\nlinks.forEach(link => {\n  if (link.dataset.page === currentPage) {\n    link.classList.add('is-active');\n    link.classList.add('is-current');\n  }\n});\n\nconst navList = document.querySelector('.nav-list');\nconst indicator = document.querySelector('.nav-indicator');\n\nfunction moveIndicator(target) {\n  if (!indicator || !navList || !target) return;\n\n  const navRect = navList.getBoundingClientRect();\n  const rect = target.getBoundingClientRect();\n\n  const offsetLeft = rect.left - navRect.left;\n\n  indicator.style.width = rect.width + 'px';\n  indicator.style.transform = `translateX(${offsetLeft}px)`;\n}\n\nlet activeLink = document.querySelector('.nav-link.is-active') || links[0];\nmoveIndicator(activeLink);\n\nlinks.forEach(link => {\n  link.addEventListener('mouseenter', () => {\n    moveIndicator(link);\n\n    if (link !== activeLink) {\n      activeLink.classList.remove('is-current');\n    } else {\n      activeLink.classList.add('is-current');\n    }\n  });\n\n  link.addEventListener('click', event => {\n    if (link === activeLink) {\n      event.preventDefault();\n      return;\n    }\n\n    if (link.dataset.page === currentPage) {\n      event.preventDefault();\n      activeLink = link;\n      activeLink.classList.add('is-current');\n      moveIndicator(activeLink);\n      return;\n    }\n\n    links.forEach(l => l.classList.remove('is-active', 'is-current'));\n    link.classList.add('is-active', 'is-current');\n    activeLink = link;\n  });\n});\n\nnavList.addEventListener('mouseleave', () => {\n  moveIndicator(activeLink);\n  activeLink.classList.add('is-current');\n});\n\nwindow.addEventListener('resize', () => {\n  moveIndicator(activeLink);\n});\n","const checkbox = document.querySelector('.theme-switch .checkbox');\nconst root = document.documentElement;\n\nconst storedTheme = localStorage.getItem('theme');\nconst prefersDark =\n  window.matchMedia &&\n  window.matchMedia('(prefers-color-scheme: dark)').matches;\n\nconst initialTheme = storedTheme || (prefersDark ? 'dark' : 'light');\nroot.setAttribute('data-theme', initialTheme);\ncheckbox.checked = initialTheme === 'dark';\n\nfunction withThemeTransition(callback) {\n  root.classList.add('theme-transition');\n\n  window.setTimeout(() => {\n    root.classList.remove('theme-transition');\n  }, 400);\n\n  callback();\n}\n\ncheckbox.addEventListener('change', e => {\n  const newTheme = e.target.checked ? 'dark' : 'light';\n\n  withThemeTransition(() => {\n    root.setAttribute('data-theme', newTheme);\n    localStorage.setItem('theme', newTheme);\n  });\n});\n","const anchorButton = document.querySelector('.anchor-button');\n\nfunction smoothScrollToTop(duration = 1000) {\n  const start = window.scrollY;\n  const startTime = performance.now();\n\n  function scrollStep(currentTime) {\n    const elapsed = currentTime - startTime;\n    const progress = Math.min(elapsed / duration, 1);\n    const ease = 1 - Math.pow(1 - progress, 3);\n    window.scrollTo(0, start * (1 - ease));\n    if (progress < 1) {\n      requestAnimationFrame(scrollStep);\n    }\n  }\n\n  requestAnimationFrame(scrollStep);\n}\n\nwindow.addEventListener('scroll', () => {\n  if (window.scrollY > 300) {\n    anchorButton.classList.add('show');\n  } else {\n    anchorButton.classList.remove('show');\n  }\n});\n\nanchorButton.addEventListener('click', e => {\n  e.preventDefault();\n  smoothScrollToTop();\n});\n","import axios from 'axios';\n\naxios.defaults.baseURL = 'https://your-energy.b.goit.study/api';\naxios.defaults.headers.common['Content-Type'] = 'application/json';\n\nclass Api {\n  totalPages = 0;\n  currentPage = 1;\n  limitPage = 9;\n  filterType = 'Muscles';\n\n  constructor() {\n    this.#isMobileScreen();\n    window.addEventListener('resize', this.#onSizeScreen);\n  }\n\n  #isMobileScreen() {\n    const { matches: isMobileScreen } = window.matchMedia('(max-width: 767px)');\n    this.limitPage = isMobileScreen ? 9 : 12;\n  }\n\n  #onSizeScreen = () => {\n    const currWidthScreen = window.innerWidth;\n    const nextLimit = currWidthScreen >= 768 ? 12 : 9;\n    if (nextLimit !== this.limitPage) {\n      this.limitPage = nextLimit;\n      this.currentPage = 1;\n    }\n  };\n\n  #getSearchParams() {\n    return {\n      filter: this.filterType,\n      page: this.currentPage,\n      limit: this.limitPage,\n    };\n  }\n\n  #handleError = error => {\n    console.error('API Error:', error);\n    return Promise.reject(\n      error.response?.data?.message ||\n        error.message ||\n        'An unexpected error occurred'\n    );\n  };\n\n  incrementPage() {\n    if (this.currentPage < this.totalPages) {\n      this.currentPage += 1;\n    }\n  }\n\n  decrementPage() {\n    if (this.currentPage > 1) {\n      this.currentPage -= 1;\n    }\n  }\n\n  changeSearchType(field) {\n    this.filterType = field;\n    this.currentPage = 1;\n  }\n\n  hasMorePages() {\n    return this.currentPage < this.totalPages;\n  }\n\n  async getDataByFilter() {\n    try {\n      const response = await axios.get('/filters', {\n        params: this.#getSearchParams(),\n      });\n\n      this.totalPages = response.data.totalPages;\n\n      return response.data;\n    } catch (error) {\n      return this.#handleError(error);\n    }\n  }\n\n  async getExercises(filters = {}, page = 1, limit = 10) {\n    try {\n      const params = {\n        ...filters,\n        page,\n        limit,\n      };\n\n      const response = await axios.get('/exercises', { params });\n      return response.data;\n    } catch (error) {\n      return this.#handleError(error);\n    }\n  }\n\n  async getExerciseByCategory(\n    filterType,\n    name,\n    page = 1,\n    limit = 10,\n    keyword = ''\n  ) {\n    try {\n      const filterKeyMap = {\n        Muscles: 'muscles',\n        'Body parts': 'bodypart',\n        Equipment: 'equipment',\n      };\n\n      const paramKey = filterKeyMap[filterType];\n      if (!paramKey) {\n        throw new Error(`Unknown filter type: ${filterType}`);\n      }\n\n      const params = {\n        [paramKey]: name.toLowerCase(),\n        page,\n        limit,\n      };\n\n      if (keyword) {\n        params.keyword = keyword.toLowerCase();\n      }\n\n      const response = await axios.get('/exercises', { params });\n      return response.data;\n    } catch (error) {\n      return this.#handleError(error);\n    }\n  }\n  \n  async getExerciseById(exerciseId) {\n    try {\n      const response = await axios.get(`/exercises/${exerciseId}`);\n      return response.data;\n    } catch (error) {\n      return this.#handleError(error);\n    }\n  }\n\n  async rateExercise(exerciseId, rating, email, review = '') {\n    try {\n      if (rating < 1 || rating > 5) {\n        throw new Error('Rating must be between 1 and 5');\n      }\n\n      const response = await axios.patch(`/exercises/${exerciseId}/rating`, {\n        rate: rating,\n        email,\n        review,\n      });\n      return response.data;\n    } catch (error) {\n      return this.#handleError(error);\n    }\n  }\n\n  async getQuote() {\n    try {\n      const response = await axios.get('/quote');\n      return response.data;\n    } catch (error) {\n      return this.#handleError(error);\n    }\n  }\n\n  async subscribe(email) {\n    try {\n      const response = await axios.post('/subscription', { email });\n      return response;\n    } catch (error) {\n      return this.#handleError(error);\n    }\n  }\n}\n\nexport const data_api = new Api();\n","import iziToast from 'izitoast';\nimport { data_api } from '../js/api';\n\nconst refs = {\n  form: document.querySelector('.footer-form'),\n};\n\nconst onSubscribeSubmit = async e => {\n  e.preventDefault();\n  const email = e.target.elements.email.value.trim();\n  const emailRegex = /^\\w+(\\.\\w+)?@[a-zA-Z_]+?\\.[a-zA-Z]{2,3}$/;\n\n  if (!email) {\n    iziToast.info({\n      message: 'Email is required',\n      position: 'topRight',\n    });\n    return;\n  }\n\n  if (!emailRegex.test(email)) {\n    iziToast.info({\n      message: 'Invalid email format',\n      position: 'topRight',\n    });\n    return;\n  }\n\n  try {\n    const response = await data_api.subscribe(email);\n\n    if (response.status === 201) {\n      iziToast.success({\n        message: response.data.message,\n        position: 'topRight',\n      });\n      refs.form.reset();\n      return;\n    }\n  } catch (err) {\n    iziToast.error({\n      message: err,\n      position: 'topRight',\n    });\n    refs.form.reset();\n  }\n};\n\nrefs.form.addEventListener('submit', onSubscribeSubmit);\n","const STORAGE_KEY = {\n  FAVORITES: 'favorites',\n  UI_THEME: 'ui-theme',\n  LAST_SESSION: 'last_session',\n  DAILY_QUOTE: 'daily_quote',\n};\n\n/* ---------------- Last Session ---------------- */\n\nexport const getLastSessionLS = () => {\n  try {\n    const data = localStorage.getItem(STORAGE_KEY.LAST_SESSION);\n    return data ? JSON.parse(data) : null;\n  } catch (error) {\n    console.error('Error parsing last session from localStorage:', error);\n    return null;\n  }\n};\n\nexport const setLastSessionLS = value => {\n  if (value) {\n    try {\n      localStorage.setItem(STORAGE_KEY.LAST_SESSION, JSON.stringify(value));\n    } catch (error) {\n      console.error('Error setting last session to localStorage:', error);\n    }\n  }\n};\n\n/* ---------------- FAVORITES ---------------- */\n\nexport const getFavoritesLS = () => {\n  try {\n    const data = localStorage.getItem(STORAGE_KEY.FAVORITES);\n    return data ? JSON.parse(data) : [];\n  } catch (error) {\n    console.error('Error parsing favorites from localStorage:', error);\n    return [];\n  }\n};\n\nexport const hasFavoriteLS = id => {\n  const list = getFavoritesLS();\n  return list.includes(id);\n};\n\nexport const addFavoriteLS = id => {\n  try {\n    const data = getFavoritesLS();\n    if (!data.includes(id)) {\n      data.push(id);\n      localStorage.setItem(STORAGE_KEY.FAVORITES, JSON.stringify(data));\n    }\n  } catch (error) {\n    console.error('Error adding favorite:', error);\n  }\n};\n\nexport const removeFavoriteLS = id => {\n  try {\n    const data = getFavoritesLS();\n    const updatedData = data.filter(item => item !== id);\n    localStorage.setItem(STORAGE_KEY.FAVORITES, JSON.stringify(updatedData));\n  } catch (error) {\n    console.error('Error removing favorite:', error);\n  }\n};\n\nexport const toggleFavoriteLS = id => {\n  if (hasFavoriteLS(id)) {\n    removeFavoriteLS(id);\n    return false;\n  } else {\n    addFavoriteLS(id);\n    return true;\n  }\n};\n\n/* ---------------- UI THEME ---------------- */\n\nexport const getUIThemeLS = () => {\n  return localStorage.getItem(STORAGE_KEY.UI_THEME) || 'light';\n};\n\nexport const setUIThemeLS = theme => {\n  if (theme !== 'light' && theme !== 'dark') return;\n  localStorage.setItem(STORAGE_KEY.UI_THEME, theme);\n};\n\n/* ---------------- DAILY QUOTE ---------------- */\n\nconst isSameDay = timestamp => {\n  if (!timestamp) return false;\n  const saved = new Date(timestamp);\n  const now = new Date();\n  return (\n    saved.getFullYear() === now.getFullYear() &&\n    saved.getMonth() === now.getMonth() &&\n    saved.getDate() === now.getDate()\n  );\n};\n\nexport const getDailyQuoteLS = () => {\n  try {\n    const data = localStorage.getItem(STORAGE_KEY.DAILY_QUOTE);\n    if (!data) return null;\n\n    const parsed = JSON.parse(data);\n    if (isSameDay(parsed.timestamp)) {\n      return parsed;\n    }\n    return null;\n  } catch (error) {\n    console.error('Error getting daily quote from localStorage:', error);\n    return null;\n  }\n};\n\nexport const setDailyQuoteLS = (quote, author) => {\n  try {\n    const data = {\n      quote,\n      author,\n      timestamp: Date.now(),\n    };\n    localStorage.setItem(STORAGE_KEY.DAILY_QUOTE, JSON.stringify(data));\n  } catch (error) {\n    console.error('Error saving daily quote to localStorage:', error);\n  }\n};\n","import { data_api } from './api';\nconst iconPath = `${import.meta.env.BASE_URL}img/sprite.svg`;\nimport { hasFavoriteLS } from './local_storage';\n\nfunction capitalize(str) {\n  if (!str) return '';\n  return str.charAt(0).toUpperCase() + str.slice(1);\n}\n\nfunction makeStars(rating) {\n  const safeRating = Math.round(Math.max(0, Math.min(5, Number(rating) || 0)));\n  const full = Array(safeRating)\n    .fill(\n      `<svg class=\"full\" width=\"18\" height=\"18\">\n        <use href=\"${iconPath}#icon-star\"></use>\n        </svg>`\n    )\n    .join('');\n  const empty = Array(5 - safeRating)\n    .fill(\n      `<svg class=\"empty\" width=\"18\" height=\"18\">\n        <use href=\"${iconPath}#icon-star\"></use>\n        </svg>`\n    )\n    .join('');\n  return full + empty;\n}\n\nexport const Template = {\n  exerciseCard({ filter, name, imgURL }) {\n    const capitalizeStr = str => {\n      if (!str) return '';\n      const parseStr = str\n        .split(' ')\n        .map(word => word.charAt(0).toUpperCase() + word.slice(1).toLowerCase())\n        .join(' ');\n      return parseStr;\n    };\n\n    return `<li class='exercises-item' data-name-category=${name}>\n            <div class='exercises-background-img' style='background-image: url(${imgURL});'>\n              <div class=\"exercises-wrap-info\">\n                <p>${capitalizeStr(name)}</p>\n                <p>${filter}</p>\n              </div>\n            </div>\n          </li>`;\n  },\n\n  itemPagination(numPage) {\n    return `<button class=\"pagination-item\" type=\"button\">\n          ${numPage}\n        </button>`;\n  },\n\n  skeletonExMarkup(count = data_api.limitPage) {\n    return Array.from({ length: count })\n      .map(\n        () => `\n      <li class=\"exercises-item is-skeleton\">\n        <div class=\"exercises-background-img skeleton-bg\"></div>\n        <div class=\"exercises-wrap-info skeleton-info\">\n          <div class=\"skeleton-line skeleton-title\"></div>\n          <div class=\"skeleton-line skeleton-subtitle\"></div>\n        </div>\n      </li>`\n      )\n      .join('');\n  },\n\n  favoriteCard({ _id, name, burnedCalories, time, bodyPart, target, rating }) {\n    return `\n      <li class=\"favorites-item\" data-id=${_id}>\n        <div class=\"card-header\">\n          <div class=\"card-header-info\">\n            <div class=\"card-badge\">WORKOUT</div>\n            <div class=\"card-rating\">\n              <span class=\"card-rating-value\">${rating}</span>\n                  <svg class=\"card-rating-icon\" width=\"18\" height=\"18\">\n                   <use href=\"${iconPath}#icon-star\"></use>\n                 </svg>\n            </div>\n          </div>\n           ${\n             hasFavoriteLS(_id)\n               ? `<button\n                 class=\"card-btn-delete js-delete-btn\"\n                 data-id=\"${_id}\"\n                 data-btn-remove-favorites\n                 type=\"button\"\n                 aria-label=\"Remove\"\n               >\n                 <svg class=\"card-icon-trash\" width=\"16\" height=\"16\">\n                   <use href=\"${iconPath}#icon-trash\"></use>\n                 </svg>\n               </button>`\n               : ''\n           }\n\n          <button class=\"card-btn-start js-start-btn\" data-id=\"${_id}\" data-open-overlay=\"exercise\" type=\"button\">\n              Start\n              <svg class=\"card-icon-arrow\" width=\"16\" height=\"16\">\n                  <use href=\"${iconPath}#icon-arrow-start\"></use>\n              </svg>\n          </button>\n        </div>\n\n        <div class=\"card-title-wrapper\">\n          <div class=\"card-icon-run-bg\">\n              <svg class=\"card-icon-run\" width=\"14\" height=\"16\">\n                  <use href=\"${iconPath}#icon-running-stick-figure\"></use>\n              </svg>\n          </div>\n          <h3 class=\"card-title\">${capitalize(name)}</h3>\n        </div>\n\n        <ul class=\"card-info-list\">\n          <li class=\"card-info-item\">\n              <span class=\"info-label\">Burned calories:</span>\n              <span class=\"info-value\">${burnedCalories} / ${time} min</span>\n          </li>\n          <li class=\"card-info-item\">\n              <span class=\"info-label\">Body part:</span>\n              <span class=\"info-value\">${capitalize(bodyPart)}</span>\n          </li>\n          <li class=\"card-info-item\">\n              <span class=\"info-label\">Target:</span>\n              <span class=\"info-value\">${capitalize(target)}</span>\n          </li>\n        </ul>\n      </li>\n    `;\n  },\n\n  exerciseModal({\n    _id,\n    name,\n    rating,\n    gifUrl,\n    target,\n    bodyPart,\n    equipment,\n    popularity,\n    burnedCalories,\n    description,\n    time,\n  }) {\n    const starsHtml = makeStars(rating);\n    return `\n      <div class=\"modal-exercises\">\n        <div class=\"modal-img-wrapper\">\n            <img class=\"modal-img\" src=\"${gifUrl}\" alt=\"${name}\" />\n        </div>\n        <div class=\"modal-details\">\n            <p class=\"modal-title\">${name}</p>\n            <div class=\"modal-rating\">\n                <div class=\"modal-rating-value\">${rating}</div>\n                <div class=\"modal-rating-stars\">${starsHtml}</div>\n            </div>\n            <div class=\"info-grid\">\n                <div class=\"info-row\">\n                    <div class=\"info-grid-item\">\n                        <div class=\"info-grid-label\">Target</div>\n                        <div class=\"info-grid-value\">${target}</div>\n                    </div>\n                    <div class=\"info-grid-item\">\n                        <div class=\"info-grid-label\">Body Part</div>\n                        <div class=\"info-grid-value\">${bodyPart}</div>\n                    </div>\n\n                    <div class=\"info-grid-item\">\n                        <div class=\"info-grid-label\">Equipment</div>\n                        <div class=\"info-grid-value\">${equipment}</div>\n                    </div>\n                    <div class=\"info-grid-item\">\n                        <div class=\"info-grid-label\">Popular</div>\n                        <div class=\"info-grid-value\">${popularity}</div>\n                    </div>\n                    <div class=\"info-grid-item\">\n                        <div class=\"info-grid-label\">Burned calories</div>\n                        <div class=\"info-grid-value\">${burnedCalories} / ${time}</div>\n                    </div>\n                </div>\n            </div>\n\n            <p class=\"modal-description\">${description}</p>\n\n            <div class=\"modal-btn-wrapper\">\n                <button type=\"button\" class=\"modal-btn\" data-btn-favorites>\n                  ${\n                    hasFavoriteLS(_id)\n                      ? 'Remove from favorites'\n                      : 'Add to favorites'\n                  }\n                    <svg class=\"modal-btn-icon\" width=\"18\" height=\"18\">\n                      <use href=\"img/sprite.svg#${\n                        hasFavoriteLS(_id) ? 'icon-trash' : 'icon-heart'\n                      }\"  data-fav-icon></use>\n                    </svg>\n                </button>\n\n                <button type=\"button\" class=\"modal-btn modal-btn-rating\" data-btn-rating>\n                  Give a rating\n                </button>\n            </div>\n        </div>\n      </div>`;\n  },\n\n  ratingModal() {\n    return `\n      <form class=\"rating-form\">\n        <div class=\"rating-form-stars-container\">\n          <p class=\"rating-form-stars-title\">Rating</p>\n          <div class=\"rating-form-value-stars\">\n            <div class=\"rating-form-value\">0.0</div>\n            <div class=\"rating-form-stars\">\n              <input\n                type=\"radio\"\n                name=\"rate\"\n                value=\"5.0\"\n                class=\"rating-form-radio\"\n                id=\"star5\"\n              />\n              <label for=\"star5\">\n                <svg class=\"card-icon-star\" width=\"24\" height=\"24\">\n                  <use href=\"${iconPath}#icon-star\"></use>\n                </svg>\n              </label>\n              <input\n                type=\"radio\"\n                name=\"rate\"\n                value=\"4.0\"\n                class=\"rating-form-radio\"\n                id=\"star4\"\n              />\n              <label for=\"star4\">\n                <svg class=\"card-icon-star\" width=\"24\" height=\"24\">\n                  <use href=\"${iconPath}#icon-star\"></use>\n                </svg>\n              </label>\n\n              <input\n                type=\"radio\"\n                name=\"rate\"\n                value=\"3.0\"\n                class=\"rating-form-radio\"\n                id=\"star3\"\n              />\n              <label for=\"star3\">\n                <svg class=\"card-icon-star\" width=\"24\" height=\"24\">\n                  <use href=\"${iconPath}#icon-star\"></use>\n                </svg>\n              </label>\n\n              <input\n                type=\"radio\"\n                name=\"rate\"\n                value=\"2.0\"\n                class=\"rating-form-radio\"\n                id=\"star2\"\n              />\n              <label for=\"star2\">\n                <svg class=\"card-icon-star\" width=\"24\" height=\"24\">\n                  <use href=\"${iconPath}#icon-star\"></use>\n                </svg>\n              </label>\n\n              <input\n                type=\"radio\"\n                name=\"rate\"\n                value=\"1.0\"\n                class=\"rating-form-radio\"\n                id=\"star1\"\n              />\n              <label for=\"star1\">\n                <svg class=\"card-icon-star\" width=\"24\" height=\"24\">\n                  <use href=\"${iconPath}#icon-star\"></use>\n                </svg>\n              </label>\n            </div>\n          </div>\n        </div>\n\n        <div class=\"rating-form-group-container\">\n          <div class=\"rating-form-group\">\n            <input\n              type=\"email\"\n              name=\"email\"\n              id=\"rating-email\"\n              class=\"rating-form-input\"\n              placeholder=\"Email\"\n              required\n            />\n          </div>\n\n          <div class=\"rating-form-group\">\n            <textarea\n              id=\"rating-comment\"\n              name=\"review\"\n              class=\"rating-form-textarea\"\n              placeholder=\"Your comment\"\n              required\n            ></textarea>\n          </div>\n        </div>\n\n        <button type=\"submit\" class=\"modal-btn rating-form-btn\" data-btn-submit-rating>Send</button>\n      </form>\n     `;\n  },\n\n  quoteTemplate: ({ quote, author }) => {\n    return `\n    <div class=\"quote-icon-run\">\n      <svg width=\"18\" height=\"20\">\n        <use href=\"img/sprite.svg#icon-running-stick-figure\"></use>\n      </svg>\n    </div>\n\n    <div class=\"quote-content\">\n      <h3 class=\"quote-title\">Quote of the day</h3>\n      <p class=\"quote-text js-quote-text\">${quote}</p>\n      <p class=\"quote-author js-quote-author\">${author}</p>\n    </div>\n\n    <div class=\"quote-icon\">\n      <svg width=\"20\" height=\"20\">\n        <use href=\"img/sprite.svg#icon-inverted-commas\"></use>\n      </svg>\n    </div>\n  `;\n  },\n};\n","const modalStore = {};\n\nlet refs = null;\nlet backdropHandler = null;\nlet closeBtnHandler = null;\n\nexport function Modal(name, content, cssClass = null) {\n  modalStore[name] = content;\n  refs.modal.classList = 'full-overlay';\n  if (cssClass !== null) refs.modal.classList.add(cssClass);\n}\n\nexport function initModalSystem() {\n  refs = {\n    modal: document.querySelector('[data-overlay]'),\n    modalContent: document.querySelector('[data-overlay-content]'),\n  };\n\n  document.querySelectorAll('[data-open-overlay]').forEach(btn => {\n    btn.addEventListener('click', () => {\n      const key = btn.dataset.openOverlay;\n      openModal(key);\n    });\n  });\n}\n\nexport function openModal(key) {\n  if (!refs) {\n    console.warn('Modal system is not initialized');\n    return;\n  }\n\n  const content = modalStore[key];\n  if (!content) return console.warn(`No modal found for key: ${key}`);\n\n  cleanupListeners();\n\n  refs.modalContent.innerHTML = content;\n  refs.modal.classList.add('is-open');\n  document.body.style.overflow = 'hidden';\n\n  const closeBtn = refs.modal.querySelector('[data-close-overlay]');\n  if (closeBtn) {\n    closeBtnHandler = closeModal;\n    closeBtn.addEventListener('click', closeBtnHandler);\n  }\n\n  backdropHandler = backdropClose;\n  refs.modal.addEventListener('click', backdropHandler);\n}\n\nexport function closeModal() {\n  if (!refs) return;\n\n  refs.modalContent.innerHTML = '';\n  refs.modal.classList = 'full-overlay';\n  document.body.style.overflow = '';\n\n  cleanupListeners();\n}\n\nfunction cleanupListeners() {\n  if (backdropHandler) {\n    refs.modal.removeEventListener('click', backdropHandler);\n    backdropHandler = null;\n  }\n\n  if (closeBtnHandler) {\n    const closeBtn = refs.modal.querySelector('[data-close-overlay]');\n    closeBtn?.removeEventListener('click', closeBtnHandler);\n    closeBtnHandler = null;\n  }\n}\n\nfunction backdropClose(e) {\n  if (e.target === refs.modal) closeModal();\n}\n\ninitModalSystem();\n","import { data_api } from './api';\nimport { Template } from './template';\nimport {\n  toggleFavoriteLS,\n  removeFavoriteLS,\n  getDailyQuoteLS,\n  setDailyQuoteLS,\n} from './local_storage';\nimport { Modal, openModal } from './modal';\nimport iziToast from 'izitoast';\n\nconst refs = {\n  listEx: document.querySelector('.exercises-list'),\n  btnBox: document.querySelector('.exercises-thumb-btn'),\n  paginationBox: document.querySelector('.pagination'),\n  quoteBody: document.querySelector('.quote-card-body'),\n  searchBar: document.querySelector('.search-bar'),\n  exercisesBredcrumbs: document.querySelector('.exercises-bredcrumbs'),\n  favoritesEmpty: document.querySelector('.favorites-empty'),\n  exercisedTitleThumb: document.querySelector('.exercises-title-thumb'),\n};\n\nlet lastRenderCount = data_api.limitPage;\nlet prevLimit = data_api.limitPage;\nlet isResizingLoad = false;\nlet currentView = 'categories'; // 'categories' or 'exercises'\nlet currentCategoryName = null;\nlet exercisesCurrentPage = 1;\nlet exercisesTotalPages = 1;\nlet currentSearchQuery = '';\n\nconst onResize = async () => {\n\n  if (data_api.limitPage !== prevLimit && !isResizingLoad) {\n    isResizingLoad = true;\n    try {\n      prevLimit = data_api.limitPage;\n      lastRenderCount = prevLimit;\n      await loadAndRenderExercises({ updatePagination: true });\n    } finally {\n      isResizingLoad = false;\n    }\n  }\n};\n\n/* ---------------- Skeleton ---------------- */\n\nconst renderSkeletonList = () => {\n  refs.listEx.innerHTML = Template.skeletonExMarkup(lastRenderCount);\n};\n\n/* ---------------- Pagination ---------------- */\n\nconst renderPaginationList = maxPage => {\n  const arr = [];\n  for (let i = 1; i <= maxPage; i++) {\n    arr.push(Template.itemPagination(i));\n  }\n  refs.paginationBox.innerHTML = arr.join('');\n};\n\nconst setActivePaginationButton = page => {\n  const buttons = [...refs.paginationBox.children];\n  if (!buttons.length) return;\n\n  buttons.forEach(btn => btn.classList.remove('pagination-item-active'));\n\n  const index = page - 1;\n  if (index >= 0 && index < buttons.length) {\n    buttons[index].classList.add('pagination-item-active');\n  }\n};\n\n/* ---------------- Handlers ---------------- */\n\nconst handleRemoveFavorite = e => {\n  e.stopPropagation();\n  const id = e.currentTarget.dataset.id;\n  removeFavoriteLS(id);\n  e.currentTarget.remove();\n\n  const modal = document.querySelector('.modal-exercises');\n  if (modal) {\n    const modalFavoriteBtn = modal.querySelector('[data-btn-favorites]');\n    if (modalFavoriteBtn) {\n      modalFavoriteBtn.textContent = 'Add to favorites';\n      modalFavoriteBtn.classList.remove('active');\n      const useElement = modalFavoriteBtn.querySelector('use');\n      if (useElement) {\n        useElement.setAttribute('href', 'img/sprite.svg#icon-heart');\n      }\n    }\n  }\n};\n\n/* ---------------- Update card favorite state ---------------- */\n\nconst handleSubmitRating = async (e, exerciseId) => {\n  e.preventDefault();\n\n  const form = e.target.closest('form');\n  if (!form) return;\n\n  const email = form.querySelector('#rating-email')?.value.trim() || '';\n  const review = form.querySelector('#rating-comment')?.value.trim() || '';\n  const rateInput = form.querySelector('input[name=\"rate\"]:checked');\n  const rate = rateInput ? parseFloat(rateInput.value) : null;\n\n  if (!rate) {\n    iziToast.info({\n      message: 'Please select your rating.',\n      position: 'topRight',\n    });\n    return;\n  }\n\n  if (!email) {\n    iziToast.info({\n      message: 'Please enter your email',\n      position: 'topRight',\n    });\n    return;\n  }\n\n  if (!review) {\n    iziToast.info({\n      message: 'Please enter your review',\n      position: 'topRight',\n    });\n    return;\n  }\n\n  try {\n    const response = await data_api.rateExercise(\n      exerciseId,\n      rate,\n      email,\n      review\n    );\n\n    if (response) {\n      iziToast.success({\n        message: 'Rating submitted successfully!',\n        position: 'topRight',\n      });\n\n      const container = document.querySelector(\n        '.full-overlay.is-open [data-close-overlay]'\n      );\n\n      if (container) {\n        container.click();\n      }\n    }\n  } catch (err) {\n    iziToast.error({\n      message: err,\n      position: 'topRight',\n    });\n  }\n};\n\nexport const handleExerciseItemClick = async (e, _id) => {\n  const id = _id || e.currentTarget.dataset.id;\n  const res = await data_api.getExerciseById(id);\n\n  Modal('exercise', Template.exerciseModal(res), 'overlay-exersices');\n  openModal('exercise');\n\n  const btnAddToFavorites = document.querySelector('[data-btn-favorites]');\n  const btnAddRating = document.querySelector('[data-btn-rating]');\n\n  btnAddToFavorites.addEventListener('click', () => {\n    const id = res._id;\n    const wasAdded = toggleFavoriteLS(id);\n\n    const icon = btnAddToFavorites.querySelector('[data-fav-icon]');\n\n    if (wasAdded) {\n      btnAddToFavorites.textContent = 'Remove from favorites';\n      btnAddToFavorites.appendChild(icon.closest('svg'));\n      icon.setAttribute('href', 'img/sprite.svg#icon-trash');\n\n      const favoriteCard = document.querySelector(\n        `.favorites-item[data-id=\"${id}\"] [data-open-overlay]`\n      );\n\n      const trashBtnTemplate = `<button\n                 class=\"card-btn-delete js-delete-btn\"\n                 data-id=\"${id}\"\n                 data-btn-remove-favorites\n                 type=\"button\"\n                 aria-label=\"Remove\"\n               >\n                 <svg class=\"card-icon-trash\" width=\"16\" height=\"16\">\n                   <use href=\"img/sprite.svg#icon-trash\"></use>\n                 </svg>\n               </button>`;\n\n      favoriteCard.insertAdjacentHTML('beforebegin', trashBtnTemplate);\n\n      const deleteBtn = document.querySelector(\n        `[data-btn-remove-favorites][data-id=\"${id}\"]`\n      );\n      if (deleteBtn) {\n        deleteBtn.addEventListener('click', handleRemoveFavorite);\n      }\n    } else {\n      btnAddToFavorites.textContent = 'Add to favorites';\n      btnAddToFavorites.appendChild(icon.closest('svg'));\n      icon.setAttribute('href', 'img/sprite.svg#icon-heart');\n\n      const deleteBtn = document.querySelector(\n        `[data-btn-remove-favorites][data-id=\"${id}\"]`\n      );\n      if (deleteBtn) {\n        deleteBtn.remove();\n      }\n    }\n  });\n\n  btnAddRating.addEventListener('click', () => {\n    const openedModal = document.querySelector('.modal-exercises');\n    if (openedModal) {\n      openedModal.remove();\n    }\n\n    const ratingModalMarkup = Template.ratingModal();\n    Modal('rating', ratingModalMarkup, 'overlay-rating');\n    openModal('rating');\n\n    const submitRatingBtn = document.querySelector('[data-btn-submit-rating]');\n    submitRatingBtn.addEventListener('click', event =>\n      handleSubmitRating(event, id)\n    );\n\n    const form = document.querySelector('.rating-form'); // Ñ„Ð¾Ñ€Ð¼Ð° Ð·Ñ–Ñ€Ð¾Ñ‡Ð½Ð¾Ð³Ð¾ Ñ€ÐµÐ¹Ñ‚Ð¸Ð½Ð³Ñƒ\n    const rateInputs = form.querySelectorAll('input[name=\"rate\"]');\n    const rateValue = form.querySelector('.rating-form-value');\n\n    rateInputs.forEach(input => {\n      input.addEventListener('change', () => {\n        rateValue.textContent = input.value; // Ð¾Ð½Ð¾Ð²Ð»ÑŽÑ”Ð¼Ð¾ Ñ‚ÐµÐºÑÑ‚\n      });\n    });\n  });\n};\n\nconst handleSearch = () => {\n  const searchInput = document.querySelector('.search-bar-input');\n  const searchBarIconClose = document.querySelector('.search-bar-icon-close');\n\n  if (!searchInput || !searchBarIconClose) return;\n\n  let timeoutId = null;\n\n  searchInput.addEventListener('input', e => {\n    const query = e.target.value.trim();\n\n    if (query.length > 0) {\n      searchBarIconClose.classList.add('visible');\n    } else {\n      searchBarIconClose.classList.remove('visible');\n    }\n\n    clearTimeout(timeoutId);\n    timeoutId = setTimeout(async () => {\n      await performSearch(query);\n    }, 500);\n  });\n\n  searchBarIconClose.addEventListener('click', async () => {\n    searchInput.value = '';\n    searchBarIconClose.classList.remove('visible');\n\n    currentSearchQuery = '';\n\n    await performSearch('');\n  });\n};\n\nconst performSearch = async query => {\n  currentSearchQuery = query;\n\n  try {\n    renderSkeletonList();\n\n    const res = await data_api.getExerciseByCategory(\n      data_api.filterType,\n      currentCategoryName,\n      exercisesCurrentPage,\n      10,\n      query\n    );\n\n    exercisesTotalPages = res.totalPages || 1;\n\n    if (!res.results.length) {\n      refs.favoritesEmpty.classList.remove('is-hidden');\n      refs.listEx.innerHTML = '';\n      refs.listEx.style.display = 'none';\n      refs.paginationBox.style.display = 'none';\n      return;\n    }\n\n    refs.listEx.style.display = 'grid';\n    refs.paginationBox.style.display = 'flex';\n    refs.favoritesEmpty.classList.add('is-hidden');\n    refs.listEx.classList.add('body-parts-list');\n\n    const cards = res.results.map(item => Template.favoriteCard(item));\n    refs.listEx.innerHTML = cards.join('');\n\n    renderPaginationList(exercisesTotalPages);\n    setActivePaginationButton(exercisesCurrentPage);\n\n    addEventListenersToCards();\n  } catch (error) {\n    console.error('Search error:', error);\n  }\n};\n\nconst handleCategoryClick = async e => {\n  currentCategoryName = e.currentTarget.dataset.nameCategory;\n  currentView = 'exercises';\n  exercisesCurrentPage = 1;\n\n  await loadExercisesByCategory();\n};\n\nconst loadExercisesByCategory = async () => {\n  const res = await data_api.getExerciseByCategory(\n    data_api.filterType,\n    currentCategoryName,\n    exercisesCurrentPage,\n    10,\n    currentSearchQuery\n  );\n\n  exercisesTotalPages = res.totalPages || 1;\n\n  refs.exercisedTitleThumb.classList.add('is-search-shown');\n  refs.searchBar.classList.add('is-show');\n  refs.exercisesBredcrumbs.classList.add('is-show');\n  refs.exercisesBredcrumbs.querySelector('.exercises-category').innerHTML =\n    currentCategoryName;\n\n  if (!res.results.length) {\n    console.log('sadas');\n    refs.favoritesEmpty.classList.remove('is-hidden');\n    refs.listEx.innerHTML = '';\n    refs.listEx.style.display = 'none';\n    return;\n  }\n\n  refs.listEx.style.display = 'grid';\n  refs.favoritesEmpty.classList.add('is-hidden');\n  refs.searchBar.classList.add('is-show');\n  refs.listEx.classList.add('body-parts-list');\n  const cards = res.results.map(item => Template.favoriteCard(item));\n  refs.listEx.innerHTML = cards.join('');\n\n  renderPaginationList(exercisesTotalPages);\n  setActivePaginationButton(exercisesCurrentPage);\n\n  handleSearch();\n  addEventListenersToCards();\n};\n\n/* ---------------- Event listeners management ---------------- */\n\nconst addEventListenersToCards = () => {\n  const exerciseCards = document.querySelectorAll('.card-btn-start');\n  const btnsRemoveFromFavorites = document.querySelectorAll(\n    '[data-btn-remove-favorites]'\n  );\n\n  exerciseCards.forEach(card =>\n    card.addEventListener('click', handleExerciseItemClick)\n  );\n\n  btnsRemoveFromFavorites.forEach(btn =>\n    btn.addEventListener('click', handleRemoveFavorite)\n  );\n};\n\nconst addEventListenersToExerciseCards = () => {\n  const exerciseCards = document.querySelectorAll('.exercises-item');\n  exerciseCards.forEach(card =>\n    card.addEventListener('click', handleCategoryClick)\n  );\n};\n\n/* ---------------- List render ---------------- */\n\nconst renderListHtml = data => {\n  const cards = data.results.map(i => Template.exerciseCard(i));\n  refs.listEx.innerHTML = cards.join('');\n\n  addEventListenersToExerciseCards();\n  lastRenderCount = Math.max(cards.length, data_api.limitPage);\n};\n\n/* ---------------- Quote ---------------- */\n\nconst renderQuote = async () => {\n  const wrapper = document.querySelector('.quote-card');\n  if (!wrapper) return;\n\n  const fallbackQuote = {\n    author: 'Tom Brady',\n    quote: `A lot of times I find that people who are blessed with the most talent don't ever develop that attitude, and the ones who aren't blessed in that way are the most competitive and have the biggest heart.`,\n  };\n\n  const cachedQuote = getDailyQuoteLS();\n  if (cachedQuote) {\n    wrapper.innerHTML = Template.quoteTemplate({\n      quote: cachedQuote.quote,\n      author: cachedQuote.author,\n    });\n    return;\n  }\n\n  try {\n    const res = await data_api.getQuote();\n    wrapper.innerHTML = Template.quoteTemplate(res);\n\n    setDailyQuoteLS(res.quote, res.author);\n  } catch (error) {\n    console.error('Error fetching quote:', error);\n    wrapper.innerHTML = Template.quoteTemplate(fallbackQuote);\n  }\n};\n\n/* ---------------- Loader ---------------- */\n\nconst loadAndRenderExercises = async ({ updatePagination = false } = {}) => {\n  renderSkeletonList();\n\n  const res = await data_api.getDataByFilter();\n  renderListHtml(res);\n\n  if (updatePagination) {\n    renderPaginationList(data_api.totalPages);\n  }\n\n  setActivePaginationButton(data_api.currentPage);\n};\n\nconst getFilteredData = async () => {\n  try {\n    renderQuote();\n\n    // if (!indicator) return;\n\n    const res = await data_api.getDataByFilter();\n\n    if (refs.btnBox.children[0]) {\n      refs.btnBox.children[0].classList.add('active');\n    }\n    renderListHtml(res);\n    renderPaginationList(data_api.totalPages);\n    setActivePaginationButton(data_api.currentPage);\n  } catch (error) {\n    console.log('ðŸš€ ~ error:', error);\n  }\n};\n\n/* ---------------- Filter and Pagination handlers ---------------- */\n\nconst onClickFilterBtn = async e => {\n  try {\n    currentView = 'categories';\n    currentCategoryName = null;\n    refs.listEx.classList.remove('body-parts-list');\n\n    const clickedBtn = e.target.closest('button');\n    if (!clickedBtn) return;\n\n    const selectedType = clickedBtn.dataset.type;\n    if (!selectedType) return;\n\n    data_api.changeSearchType(selectedType);\n\n    lastRenderCount = data_api.limitPage;\n\n    [...e.currentTarget.children].forEach(btn =>\n      btn.classList.remove('active')\n    );\n    clickedBtn.classList.add('active');\n\n    await loadAndRenderExercises({ updatePagination: true });\n    refs.exercisedTitleThumb.classList.remove('is-search-shown');\n    refs.searchBar.classList.remove('is-show');\n    refs.exercisesBredcrumbs.classList.remove('is-show');\n    refs.listEx.style.display = 'grid';\n  } catch (error) {\n    console.error('Filter error:', error);\n  }\n};\n\nconst onClickPaginationBox = async e => {\n  try {\n    const clickedBtn = e.target.closest('button');\n    if (!clickedBtn) return;\n\n    const clickedNumPage = Number(clickedBtn.textContent.trim());\n    if (!Number.isFinite(clickedNumPage)) return;\n\n    if (currentView === 'exercises') {\n      if (clickedNumPage === exercisesCurrentPage) return;\n      exercisesCurrentPage = clickedNumPage;\n      await loadExercisesByCategory();\n    } else {\n      if (clickedNumPage === data_api.currentPage) return;\n      data_api.currentPage = clickedNumPage;\n      await loadAndRenderExercises();\n    }\n  } catch (error) {\n    console.error('Pagination error:', error);\n  }\n};\n\n/* ---------------- Initialize ---------------- */\n\ngetFilteredData();\n\n/* ---------------- Listeners ---------------- */\n\nif (refs.btnBox) {\n  window.addEventListener('resize', onResize);\n  refs.btnBox.addEventListener('click', onClickFilterBtn);\n}\nif (refs.paginationBox) {\n  refs.paginationBox.addEventListener('click', onClickPaginationBox);\n}\n","document.addEventListener('DOMContentLoaded', () => {\n  const input = document.querySelector('.search-bar-input');\n  const resetBtn = document.querySelector('.search-bar-reset-btn');\n\n  if (!input || !resetBtn) return;\n\n  input.addEventListener('input', () => {\n    if (input.value.trim() !== '') {\n      resetBtn.classList.remove('visually-hidden');\n    } else {\n      resetBtn.classList.add('visually-hidden');\n    }\n  });\n\n  resetBtn.addEventListener('click', e => {\n    e.preventDefault();\n    input.value = '';\n    resetBtn.classList.add('visually-hidden');\n    input.focus();\n  });\n});\n"],"names":["refs","toggleModal","link","file","currentPage","links","navList","indicator","moveIndicator","target","navRect","rect","offsetLeft","activeLink","event","l","checkbox","root","storedTheme","prefersDark","initialTheme","withThemeTransition","callback","newTheme","anchorButton","smoothScrollToTop","duration","start","startTime","scrollStep","currentTime","elapsed","progress","ease","axios","Api","__privateAdd","_Api_instances","__publicField","_onSizeScreen","nextLimit","_handleError","error","_b","_a","__privateMethod","isMobileScreen_fn","__privateGet","field","response","getSearchParams_fn","filters","page","limit","params","filterType","name","keyword","paramKey","exerciseId","rating","email","review","isMobileScreen","data_api","onSubscribeSubmit","emailRegex","iziToast","err","STORAGE_KEY","getFavoritesLS","data","hasFavoriteLS","id","addFavoriteLS","removeFavoriteLS","updatedData","item","toggleFavoriteLS","isSameDay","timestamp","saved","now","getDailyQuoteLS","parsed","setDailyQuoteLS","quote","author","iconPath","capitalize","str","makeStars","safeRating","full","empty","Template","filter","imgURL","word","numPage","count","_id","burnedCalories","time","bodyPart","gifUrl","equipment","popularity","description","starsHtml","modalStore","backdropHandler","closeBtnHandler","Modal","content","cssClass","initModalSystem","btn","key","openModal","cleanupListeners","closeBtn","closeModal","backdropClose","lastRenderCount","prevLimit","isResizingLoad","currentView","currentCategoryName","exercisesCurrentPage","exercisesTotalPages","currentSearchQuery","onResize","loadAndRenderExercises","renderSkeletonList","renderPaginationList","maxPage","arr","i","setActivePaginationButton","buttons","index","handleRemoveFavorite","modal","modalFavoriteBtn","useElement","handleSubmitRating","form","rateInput","rate","container","handleExerciseItemClick","res","btnAddToFavorites","btnAddRating","wasAdded","icon","favoriteCard","trashBtnTemplate","deleteBtn","openedModal","ratingModalMarkup","rateInputs","rateValue","input","handleSearch","searchInput","searchBarIconClose","timeoutId","e","query","performSearch","cards","addEventListenersToCards","handleCategoryClick","loadExercisesByCategory","exerciseCards","btnsRemoveFromFavorites","card","addEventListenersToExerciseCards","renderListHtml","renderQuote","wrapper","fallbackQuote","cachedQuote","updatePagination","getFilteredData","onClickFilterBtn","clickedBtn","selectedType","onClickPaginationBox","clickedNumPage","resetBtn"],"mappings":"otCAAC,IAAM,CACL,MAAMA,EAAO,CAEX,aAAc,SAAS,cAAc,kBAAkB,EAEvD,cAAe,SAAS,cAAc,mBAAmB,EAEzD,MAAO,SAAS,cAAc,aAAa,EAE3C,SAAU,SAAS,iBAAiB,uBAAuB,CAC/D,EAEEA,EAAK,aAAa,iBAAiB,QAASC,CAAW,EACvDD,EAAK,cAAc,iBAAiB,QAASC,CAAW,EACxDD,EAAK,SAAS,QAAQE,GAAQA,EAAK,iBAAiB,QAASD,CAAW,CAAC,EAEzE,SAASA,GAAc,CAErBD,EAAK,MAAM,UAAU,OAAO,SAAS,CACtC,CACH,GAAI,ECpBJ,IAAIG,EAAO,OAAO,SAAS,SAAS,MAAM,GAAG,EAAE,IAAK,GAAI,aACpDC,GACFD,IAAS,IAAMA,IAAS,aAAe,OAASA,EAAK,QAAQ,QAAS,EAAE,EAE1E,MAAME,EAAQ,SAAS,iBAAiB,WAAW,EAEnDA,EAAM,QAAQH,GAAQ,CAChBA,EAAK,QAAQ,OAASE,KACxBF,EAAK,UAAU,IAAI,WAAW,EAC9BA,EAAK,UAAU,IAAI,YAAY,EAEnC,CAAC,EAED,MAAMI,EAAU,SAAS,cAAc,WAAW,EAC5CC,EAAY,SAAS,cAAc,gBAAgB,EAEzD,SAASC,EAAcC,EAAQ,CAC7B,GAAI,CAACF,GAAa,CAACD,GAAW,CAACG,EAAQ,OAEvC,MAAMC,EAAUJ,EAAQ,wBAClBK,EAAOF,EAAO,wBAEdG,EAAaD,EAAK,KAAOD,EAAQ,KAEvCH,EAAU,MAAM,MAAQI,EAAK,MAAQ,KACrCJ,EAAU,MAAM,UAAY,cAAcK,CAAU,KACtD,CAEA,IAAIC,EAAa,SAAS,cAAc,qBAAqB,GAAKR,EAAM,CAAC,EACzEG,EAAcK,CAAU,EAExBR,EAAM,QAAQH,GAAQ,CACpBA,EAAK,iBAAiB,aAAc,IAAM,CACxCM,EAAcN,CAAI,EAEdA,IAASW,EACXA,EAAW,UAAU,OAAO,YAAY,EAExCA,EAAW,UAAU,IAAI,YAAY,CAE3C,CAAG,EAEDX,EAAK,iBAAiB,QAASY,GAAS,CACtC,GAAIZ,IAASW,EAAY,CACvBC,EAAM,eAAc,EACpB,MACD,CAED,GAAIZ,EAAK,QAAQ,OAASE,GAAa,CACrCU,EAAM,eAAc,EACpBD,EAAaX,EACbW,EAAW,UAAU,IAAI,YAAY,EACrCL,EAAcK,CAAU,EACxB,MACD,CAEDR,EAAM,QAAQU,GAAKA,EAAE,UAAU,OAAO,YAAa,YAAY,CAAC,EAChEb,EAAK,UAAU,IAAI,YAAa,YAAY,EAC5CW,EAAaX,CACjB,CAAG,CACH,CAAC,EAEDI,EAAQ,iBAAiB,aAAc,IAAM,CAC3CE,EAAcK,CAAU,EACxBA,EAAW,UAAU,IAAI,YAAY,CACvC,CAAC,EAED,OAAO,iBAAiB,SAAU,IAAM,CACtCL,EAAcK,CAAU,CAC1B,CAAC,ECrED,MAAMG,GAAW,SAAS,cAAc,yBAAyB,EAC3DC,EAAO,SAAS,gBAEhBC,GAAc,aAAa,QAAQ,OAAO,EAC1CC,GACJ,OAAO,YACP,OAAO,WAAW,8BAA8B,EAAE,QAE9CC,GAAeF,KAAgBC,GAAc,OAAS,SAC5DF,EAAK,aAAa,aAAcG,EAAY,EAC5CJ,GAAS,QAAUI,KAAiB,OAEpC,SAASC,GAAoBC,EAAU,CACrCL,EAAK,UAAU,IAAI,kBAAkB,EAErC,OAAO,WAAW,IAAM,CACtBA,EAAK,UAAU,OAAO,kBAAkB,CACzC,EAAE,GAAG,EAENK,GACF,CAEAN,GAAS,iBAAiB,SAAU,GAAK,CACvC,MAAMO,EAAW,EAAE,OAAO,QAAU,OAAS,QAE7CF,GAAoB,IAAM,CACxBJ,EAAK,aAAa,aAAcM,CAAQ,EACxC,aAAa,QAAQ,QAASA,CAAQ,CAC1C,CAAG,CACH,CAAC,EC7BD,MAAMC,EAAe,SAAS,cAAc,gBAAgB,EAE5D,SAASC,GAAkBC,EAAW,IAAM,CAC1C,MAAMC,EAAQ,OAAO,QACfC,EAAY,YAAY,MAE9B,SAASC,EAAWC,EAAa,CAC/B,MAAMC,EAAUD,EAAcF,EACxBI,EAAW,KAAK,IAAID,EAAUL,EAAU,CAAC,EACzCO,EAAO,EAAI,KAAK,IAAI,EAAID,EAAU,CAAC,EACzC,OAAO,SAAS,EAAGL,GAAS,EAAIM,EAAK,EACjCD,EAAW,GACb,sBAAsBH,CAAU,CAEnC,CAED,sBAAsBA,CAAU,CAClC,CAEA,OAAO,iBAAiB,SAAU,IAAM,CAClC,OAAO,QAAU,IACnBL,EAAa,UAAU,IAAI,MAAM,EAEjCA,EAAa,UAAU,OAAO,MAAM,CAExC,CAAC,EAEDA,EAAa,iBAAiB,QAAS,GAAK,CAC1C,EAAE,eAAc,EAChBC,IACF,CAAC,EC5BDS,EAAM,SAAS,QAAU,uCACzBA,EAAM,SAAS,QAAQ,OAAO,cAAc,EAAI,mCAEhD,MAAMC,EAAI,CAMR,aAAc,CANhBC,EAAA,KAAAC,GACEC,EAAA,kBAAa,GACbA,EAAA,mBAAc,GACdA,EAAA,iBAAY,GACZA,EAAA,kBAAa,WAYbF,EAAA,KAAAG,EAAgB,IAAM,CAEpB,MAAMC,EADkB,OAAO,YACM,IAAM,GAAK,EAC5CA,IAAc,KAAK,YACrB,KAAK,UAAYA,EACjB,KAAK,YAAc,EAEzB,GAUEJ,EAAA,KAAAK,EAAeC,GAAS,SACtB,eAAQ,MAAM,aAAcA,CAAK,EAC1B,QAAQ,SACbC,GAAAC,EAAAF,EAAM,WAAN,YAAAE,EAAgB,OAAhB,YAAAD,EAAsB,UACpBD,EAAM,SACN,8BACR,CACA,GAjCIG,EAAA,KAAKR,EAAAS,IAAL,WACA,OAAO,iBAAiB,SAAUC,EAAA,KAAKR,EAAa,CACrD,CAiCD,eAAgB,CACV,KAAK,YAAc,KAAK,aAC1B,KAAK,aAAe,EAEvB,CAED,eAAgB,CACV,KAAK,YAAc,IACrB,KAAK,aAAe,EAEvB,CAED,iBAAiBS,EAAO,CACtB,KAAK,WAAaA,EAClB,KAAK,YAAc,CACpB,CAED,cAAe,CACb,OAAO,KAAK,YAAc,KAAK,UAChC,CAED,MAAM,iBAAkB,CACtB,GAAI,CACF,MAAMC,EAAW,MAAMf,EAAM,IAAI,WAAY,CAC3C,OAAQW,EAAA,KAAKR,EAAAa,IAAL,UAChB,CAAO,EAED,YAAK,WAAaD,EAAS,KAAK,WAEzBA,EAAS,IACjB,OAAQP,EAAO,CACd,OAAOK,EAAA,KAAKN,GAAL,UAAkBC,EAC1B,CACF,CAED,MAAM,aAAaS,EAAU,CAAE,EAAEC,EAAO,EAAGC,EAAQ,GAAI,CACrD,GAAI,CACF,MAAMC,EAAS,CACb,GAAGH,EACH,KAAAC,EACA,MAAAC,CACR,EAGM,OADiB,MAAMnB,EAAM,IAAI,aAAc,CAAE,OAAAoB,CAAM,CAAE,GACzC,IACjB,OAAQZ,EAAO,CACd,OAAOK,EAAA,KAAKN,GAAL,UAAkBC,EAC1B,CACF,CAED,MAAM,sBACJa,EACAC,EACAJ,EAAO,EACPC,EAAQ,GACRI,EAAU,GACV,CACA,GAAI,CAOF,MAAMC,EANe,CACnB,QAAS,UACT,aAAc,WACd,UAAW,WACnB,EAEoCH,CAAU,EACxC,GAAI,CAACG,EACH,MAAM,IAAI,MAAM,wBAAwBH,CAAU,EAAE,EAGtD,MAAMD,EAAS,CACb,CAACI,CAAQ,EAAGF,EAAK,YAAa,EAC9B,KAAAJ,EACA,MAAAC,CACR,EAEM,OAAII,IACFH,EAAO,QAAUG,EAAQ,gBAGV,MAAMvB,EAAM,IAAI,aAAc,CAAE,OAAAoB,CAAM,CAAE,GACzC,IACjB,OAAQZ,EAAO,CACd,OAAOK,EAAA,KAAKN,GAAL,UAAkBC,EAC1B,CACF,CAED,MAAM,gBAAgBiB,EAAY,CAChC,GAAI,CAEF,OADiB,MAAMzB,EAAM,IAAI,cAAcyB,CAAU,EAAE,GAC3C,IACjB,OAAQjB,EAAO,CACd,OAAOK,EAAA,KAAKN,GAAL,UAAkBC,EAC1B,CACF,CAED,MAAM,aAAaiB,EAAYC,EAAQC,EAAOC,EAAS,GAAI,CACzD,GAAI,CACF,GAAIF,EAAS,GAAKA,EAAS,EACzB,MAAM,IAAI,MAAM,gCAAgC,EAQlD,OALiB,MAAM1B,EAAM,MAAM,cAAcyB,CAAU,UAAW,CACpE,KAAMC,EACN,MAAAC,EACA,OAAAC,CACR,CAAO,GACe,IACjB,OAAQpB,EAAO,CACd,OAAOK,EAAA,KAAKN,GAAL,UAAkBC,EAC1B,CACF,CAED,MAAM,UAAW,CACf,GAAI,CAEF,OADiB,MAAMR,EAAM,IAAI,QAAQ,GACzB,IACjB,OAAQQ,EAAO,CACd,OAAOK,EAAA,KAAKN,GAAL,UAAkBC,EAC1B,CACF,CAED,MAAM,UAAUmB,EAAO,CACrB,GAAI,CAEF,OADiB,MAAM3B,EAAM,KAAK,gBAAiB,CAAE,MAAA2B,CAAK,CAAE,CAE7D,OAAQnB,EAAO,CACd,OAAOK,EAAA,KAAKN,GAAL,UAAkBC,EAC1B,CACF,CACH,CA3KAL,EAAA,YAWES,GAAe,UAAG,CAChB,KAAM,CAAE,QAASiB,CAAc,EAAK,OAAO,WAAW,oBAAoB,EAC1E,KAAK,UAAYA,EAAiB,EAAI,EACvC,EAEDxB,EAAA,YASAW,GAAgB,UAAG,CACjB,MAAO,CACL,OAAQ,KAAK,WACb,KAAM,KAAK,YACX,MAAO,KAAK,SAClB,CACG,EAEDT,EAAA,YA4IU,MAACuB,EAAW,IAAI7B,GC/KtBnC,EAAO,CACX,KAAM,SAAS,cAAc,cAAc,CAC7C,EAEMiE,GAAoB,MAAM,GAAK,CACnC,EAAE,eAAc,EAChB,MAAMJ,EAAQ,EAAE,OAAO,SAAS,MAAM,MAAM,OACtCK,EAAa,2CAEnB,GAAI,CAACL,EAAO,CACVM,EAAS,KAAK,CACZ,QAAS,oBACT,SAAU,UAChB,CAAK,EACD,MACD,CAED,GAAI,CAACD,EAAW,KAAKL,CAAK,EAAG,CAC3BM,EAAS,KAAK,CACZ,QAAS,uBACT,SAAU,UAChB,CAAK,EACD,MACD,CAED,GAAI,CACF,MAAMlB,EAAW,MAAMe,EAAS,UAAUH,CAAK,EAE/C,GAAIZ,EAAS,SAAW,IAAK,CAC3BkB,EAAS,QAAQ,CACf,QAASlB,EAAS,KAAK,QACvB,SAAU,UAClB,CAAO,EACDjD,EAAK,KAAK,QACV,MACD,CACF,OAAQoE,EAAK,CACZD,EAAS,MAAM,CACb,QAASC,EACT,SAAU,UAChB,CAAK,EACDpE,EAAK,KAAK,OACX,CACH,EAEAA,EAAK,KAAK,iBAAiB,SAAUiE,EAAiB,EChDtD,MAAMI,EAAc,CAClB,UAAW,YACX,SAAU,WACV,aAAc,eACd,YAAa,aACf,EA0BaC,EAAiB,IAAM,CAClC,GAAI,CACF,MAAMC,EAAO,aAAa,QAAQF,EAAY,SAAS,EACvD,OAAOE,EAAO,KAAK,MAAMA,CAAI,EAAI,CAAA,CAClC,OAAQ7B,EAAO,CACd,eAAQ,MAAM,6CAA8CA,CAAK,EAC1D,EACR,CACH,EAEa8B,EAAgBC,GACdH,IACD,SAASG,CAAE,EAGZC,GAAgBD,GAAM,CACjC,GAAI,CACF,MAAMF,EAAOD,IACRC,EAAK,SAASE,CAAE,IACnBF,EAAK,KAAKE,CAAE,EACZ,aAAa,QAAQJ,EAAY,UAAW,KAAK,UAAUE,CAAI,CAAC,EAEnE,OAAQ7B,EAAO,CACd,QAAQ,MAAM,yBAA0BA,CAAK,CAC9C,CACH,EAEaiC,GAAmBF,GAAM,CACpC,GAAI,CAEF,MAAMG,EADON,IACY,OAAOO,GAAQA,IAASJ,CAAE,EACnD,aAAa,QAAQJ,EAAY,UAAW,KAAK,UAAUO,CAAW,CAAC,CACxE,OAAQlC,EAAO,CACd,QAAQ,MAAM,2BAA4BA,CAAK,CAChD,CACH,EAEaoC,GAAmBL,GAC1BD,EAAcC,CAAE,GAClBE,GAAiBF,CAAE,EACZ,KAEPC,GAAcD,CAAE,EACT,IAiBLM,GAAYC,GAAa,CAC7B,GAAI,CAACA,EAAW,MAAO,GACvB,MAAMC,EAAQ,IAAI,KAAKD,CAAS,EAC1BE,EAAM,IAAI,KAChB,OACED,EAAM,YAAW,IAAOC,EAAI,YAAa,GACzCD,EAAM,SAAQ,IAAOC,EAAI,SAAU,GACnCD,EAAM,QAAO,IAAOC,EAAI,QAAS,CAErC,EAEaC,GAAkB,IAAM,CACnC,GAAI,CACF,MAAMZ,EAAO,aAAa,QAAQF,EAAY,WAAW,EACzD,GAAI,CAACE,EAAM,OAAO,KAElB,MAAMa,EAAS,KAAK,MAAMb,CAAI,EAC9B,OAAIQ,GAAUK,EAAO,SAAS,EACrBA,EAEF,IACR,OAAQ1C,EAAO,CACd,eAAQ,MAAM,+CAAgDA,CAAK,EAC5D,IACR,CACH,EAEa2C,GAAkB,CAACC,EAAOC,IAAW,CAChD,GAAI,CACF,MAAMhB,EAAO,CACX,MAAAe,EACA,OAAAC,EACA,UAAW,KAAK,IAAK,CAC3B,EACI,aAAa,QAAQlB,EAAY,YAAa,KAAK,UAAUE,CAAI,CAAC,CACnE,OAAQ7B,EAAO,CACd,QAAQ,MAAM,4CAA6CA,CAAK,CACjE,CACH,EChIM8C,EAAW,8BAGjB,SAASC,EAAWC,EAAK,CACnB,OAACA,EACEA,EAAI,OAAO,CAAC,EAAE,cAAgBA,EAAI,MAAM,CAAC,EAD/B,EAEnB,CAEA,SAASC,GAAU/B,EAAQ,CACzB,MAAMgC,EAAa,KAAK,MAAM,KAAK,IAAI,EAAG,KAAK,IAAI,EAAG,OAAOhC,CAAM,GAAK,CAAC,CAAC,CAAC,EACrEiC,EAAO,MAAMD,CAAU,EAC1B,KACC;AAAA,qBACeJ,CAAQ;AAAA,eAAA,EAGxB,KAAK,EAAE,EACJM,EAAQ,MAAM,EAAIF,CAAU,EAC/B,KACC;AAAA,qBACeJ,CAAQ;AAAA,eAAA,EAGxB,KAAK,EAAE,EACV,OAAOK,EAAOC,CAChB,CAEO,MAAMC,EAAW,CACtB,aAAa,CAAE,OAAAC,EAAQ,KAAAxC,EAAM,OAAAyC,GAAU,CAUrC,MAAO,iDAAiDzC,CAAI;AAAA,iFACiByC,CAAM;AAAA;AAAA,sBAVtDP,GACtBA,EACYA,EACd,MAAM,GAAG,EACT,IAAIQ,GAAQA,EAAK,OAAO,CAAC,EAAE,YAAY,EAAIA,EAAK,MAAM,CAAC,EAAE,aAAa,EACtE,KAAK,GAAG,EAJM,IAWY1C,CAAI,CAAC;AAAA,qBACnBwC,CAAM;AAAA;AAAA;AAAA,gBAIzB,EAEA,eAAeG,EAAS,CACf,MAAA;AAAA,YACCA,CAAO;AAAA,kBAEjB,EAEA,iBAAiBC,EAAQpC,EAAS,UAAW,CAC3C,OAAO,MAAM,KAAK,CAAE,OAAQoC,CAAA,CAAO,EAChC,IACC,IAAM;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAAA,EASP,KAAK,EAAE,CACZ,EAEA,aAAa,CAAE,IAAAC,EAAK,KAAA7C,EAAM,eAAA8C,EAAgB,KAAAC,EAAM,SAAAC,EAAU,OAAA/F,EAAQ,OAAAmD,GAAU,CACnE,MAAA;AAAA,2CACgCyC,CAAG;AAAA;AAAA;AAAA;AAAA;AAAA,gDAKEzC,CAAM;AAAA;AAAA,gCAEtB4B,CAAQ;AAAA;AAAA;AAAA;AAAA,aAK3BhB,EAAc6B,CAAG,EACb;AAAA;AAAA,4BAEWA,CAAG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gCAMCb,CAAQ;AAAA;AAAA,0BAGvB,EACN;AAAA;AAAA,iEAEsDa,CAAG;AAAA;AAAA;AAAA,+BAGrCb,CAAQ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,+BAQRA,CAAQ;AAAA;AAAA;AAAA,mCAGJC,EAAWjC,CAAI,CAAC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,yCAMV8C,CAAc,MAAMC,CAAI;AAAA;AAAA;AAAA;AAAA,yCAIxBd,EAAWe,CAAQ,CAAC;AAAA;AAAA;AAAA;AAAA,yCAIpBf,EAAWhF,CAAM,CAAC;AAAA;AAAA;AAAA;AAAA,KAKzD,EAEA,cAAc,CACZ,IAAA4F,EACA,KAAA7C,EACA,OAAAI,EACA,OAAA6C,EACA,OAAAhG,EACA,SAAA+F,EACA,UAAAE,EACA,WAAAC,EACA,eAAAL,EACA,YAAAM,EACA,KAAAL,CAAA,EACC,CACK,MAAAM,EAAYlB,GAAU/B,CAAM,EAC3B,MAAA;AAAA;AAAA;AAAA,0CAG+B6C,CAAM,UAAUjD,CAAI;AAAA;AAAA;AAAA,qCAGzBA,CAAI;AAAA;AAAA,kDAESI,CAAM;AAAA,kDACNiD,CAAS;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uDAMJpG,CAAM;AAAA;AAAA;AAAA;AAAA,uDAIN+F,CAAQ;AAAA;AAAA;AAAA;AAAA;AAAA,uDAKRE,CAAS;AAAA;AAAA;AAAA;AAAA,uDAITC,CAAU;AAAA;AAAA;AAAA;AAAA,uDAIVL,CAAc,MAAMC,CAAI;AAAA;AAAA;AAAA;AAAA;AAAA,2CAKpCK,CAAW;AAAA;AAAA;AAAA;AAAA,oBAKlCpC,EAAc6B,CAAG,EACb,wBACA,kBACN;AAAA;AAAA,kDAGM7B,EAAc6B,CAAG,EAAI,aAAe,YACtC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aAUpB,EAEA,aAAc,CACL,MAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,+BAgBoBb,CAAQ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,+BAYRA,CAAQ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,+BAaRA,CAAQ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,+BAaRA,CAAQ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,+BAaRA,CAAQ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAiCrC,EAEA,cAAe,CAAC,CAAE,MAAAF,EAAO,OAAAC,KAChB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,4CASiCD,CAAK;AAAA,gDACDC,CAAM;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAUtD,EC7UMuB,GAAa,CAAA,EAEnB,IAAI9G,EAAO,KACP+G,EAAkB,KAClBC,EAAkB,KAEf,SAASC,GAAMzD,EAAM0D,EAASC,EAAW,KAAM,CACpDL,GAAWtD,CAAI,EAAI0D,EACnBlH,EAAK,MAAM,UAAY,eACnBmH,IAAa,MAAMnH,EAAK,MAAM,UAAU,IAAImH,CAAQ,CAC1D,CAEO,SAASC,IAAkB,CAChCpH,EAAO,CACL,MAAO,SAAS,cAAc,gBAAgB,EAC9C,aAAc,SAAS,cAAc,wBAAwB,CACjE,EAEE,SAAS,iBAAiB,qBAAqB,EAAE,QAAQqH,GAAO,CAC9DA,EAAI,iBAAiB,QAAS,IAAM,CAClC,MAAMC,EAAMD,EAAI,QAAQ,YACxBE,EAAUD,CAAG,CACnB,CAAK,CACL,CAAG,CACH,CAEO,SAASC,EAAUD,EAAK,CAC7B,GAAI,CAACtH,EAAM,CACT,QAAQ,KAAK,iCAAiC,EAC9C,MACD,CAED,MAAMkH,EAAUJ,GAAWQ,CAAG,EAC9B,GAAI,CAACJ,EAAS,OAAO,QAAQ,KAAK,2BAA2BI,CAAG,EAAE,EAElEE,KAEAxH,EAAK,aAAa,UAAYkH,EAC9BlH,EAAK,MAAM,UAAU,IAAI,SAAS,EAClC,SAAS,KAAK,MAAM,SAAW,SAE/B,MAAMyH,EAAWzH,EAAK,MAAM,cAAc,sBAAsB,EAC5DyH,IACFT,EAAkBU,GAClBD,EAAS,iBAAiB,QAAST,CAAe,GAGpDD,EAAkBY,GAClB3H,EAAK,MAAM,iBAAiB,QAAS+G,CAAe,CACtD,CAEO,SAASW,IAAa,CACtB1H,IAELA,EAAK,aAAa,UAAY,GAC9BA,EAAK,MAAM,UAAY,eACvB,SAAS,KAAK,MAAM,SAAW,GAE/BwH,KACF,CAEA,SAASA,IAAmB,CAM1B,GALIT,IACF/G,EAAK,MAAM,oBAAoB,QAAS+G,CAAe,EACvDA,EAAkB,MAGhBC,EAAiB,CACnB,MAAMS,EAAWzH,EAAK,MAAM,cAAc,sBAAsB,EAChEyH,GAAA,MAAAA,EAAU,oBAAoB,QAAST,GACvCA,EAAkB,IACnB,CACH,CAEA,SAASW,GAAc,EAAG,CACpB,EAAE,SAAW3H,EAAK,OAAO0H,GAAU,CACzC,CAEAN,GAAiB,ECnEjB,MAAMpH,EAAO,CACX,OAAQ,SAAS,cAAc,iBAAiB,EAChD,OAAQ,SAAS,cAAc,sBAAsB,EACrD,cAAe,SAAS,cAAc,aAAa,EACnD,UAAW,SAAS,cAAc,kBAAkB,EACpD,UAAW,SAAS,cAAc,aAAa,EAC/C,oBAAqB,SAAS,cAAc,uBAAuB,EACnE,eAAgB,SAAS,cAAc,kBAAkB,EACzD,oBAAqB,SAAS,cAAc,wBAAwB,CACtE,EAEA,IAAI4H,EAAkB5D,EAAS,UAC3B6D,EAAY7D,EAAS,UACrB8D,EAAiB,GACjBC,EAAc,aACdC,EAAsB,KACtBC,EAAuB,EACvBC,EAAsB,EACtBC,EAAqB,GAEzB,MAAMC,GAAW,SAAY,CAE3B,GAAIpE,EAAS,YAAc6D,GAAa,CAACC,EAAgB,CACvDA,EAAiB,GACjB,GAAI,CACFD,EAAY7D,EAAS,UACrB4D,EAAkBC,EAClB,MAAMQ,EAAuB,CAAE,iBAAkB,EAAM,CAAA,CAC7D,QAAc,CACRP,EAAiB,EAClB,CACF,CACH,EAIMQ,GAAqB,IAAM,CAC/BtI,EAAK,OAAO,UAAY+F,EAAS,iBAAiB6B,CAAe,CACnE,EAIMW,EAAuBC,GAAW,CACtC,MAAMC,EAAM,CAAA,EACZ,QAASC,EAAI,EAAGA,GAAKF,EAASE,IAC5BD,EAAI,KAAK1C,EAAS,eAAe2C,CAAC,CAAC,EAErC1I,EAAK,cAAc,UAAYyI,EAAI,KAAK,EAAE,CAC5C,EAEME,EAA4BvF,GAAQ,CACxC,MAAMwF,EAAU,CAAC,GAAG5I,EAAK,cAAc,QAAQ,EAC/C,GAAI,CAAC4I,EAAQ,OAAQ,OAErBA,EAAQ,QAAQvB,GAAOA,EAAI,UAAU,OAAO,wBAAwB,CAAC,EAErE,MAAMwB,EAAQzF,EAAO,EACjByF,GAAS,GAAKA,EAAQD,EAAQ,QAChCA,EAAQC,CAAK,EAAE,UAAU,IAAI,wBAAwB,CAEzD,EAIMC,GAAuB,GAAK,CAChC,EAAE,gBAAe,EACjB,MAAMrE,EAAK,EAAE,cAAc,QAAQ,GACnCE,GAAiBF,CAAE,EACnB,EAAE,cAAc,SAEhB,MAAMsE,EAAQ,SAAS,cAAc,kBAAkB,EACvD,GAAIA,EAAO,CACT,MAAMC,EAAmBD,EAAM,cAAc,sBAAsB,EACnE,GAAIC,EAAkB,CACpBA,EAAiB,YAAc,mBAC/BA,EAAiB,UAAU,OAAO,QAAQ,EAC1C,MAAMC,EAAaD,EAAiB,cAAc,KAAK,EACnDC,GACFA,EAAW,aAAa,OAAQ,2BAA2B,CAE9D,CACF,CACH,EAIMC,GAAqB,MAAO,EAAGvF,IAAe,SAClD,EAAE,eAAc,EAEhB,MAAMwF,EAAO,EAAE,OAAO,QAAQ,MAAM,EACpC,GAAI,CAACA,EAAM,OAEX,MAAMtF,IAAQjB,EAAAuG,EAAK,cAAc,eAAe,IAAlC,YAAAvG,EAAqC,MAAM,SAAU,GAC7DkB,IAASnB,EAAAwG,EAAK,cAAc,iBAAiB,IAApC,YAAAxG,EAAuC,MAAM,SAAU,GAChEyG,EAAYD,EAAK,cAAc,4BAA4B,EAC3DE,EAAOD,EAAY,WAAWA,EAAU,KAAK,EAAI,KAEvD,GAAI,CAACC,EAAM,CACTlF,EAAS,KAAK,CACZ,QAAS,6BACT,SAAU,UAChB,CAAK,EACD,MACD,CAED,GAAI,CAACN,EAAO,CACVM,EAAS,KAAK,CACZ,QAAS,0BACT,SAAU,UAChB,CAAK,EACD,MACD,CAED,GAAI,CAACL,EAAQ,CACXK,EAAS,KAAK,CACZ,QAAS,2BACT,SAAU,UAChB,CAAK,EACD,MACD,CAED,GAAI,CAQF,GAPiB,MAAMH,EAAS,aAC9BL,EACA0F,EACAxF,EACAC,CACN,EAEkB,CACZK,EAAS,QAAQ,CACf,QAAS,iCACT,SAAU,UAClB,CAAO,EAED,MAAMmF,EAAY,SAAS,cACzB,4CACR,EAEUA,GACFA,EAAU,MAAK,CAElB,CACF,OAAQlF,EAAK,CACZD,EAAS,MAAM,CACb,QAASC,EACT,SAAU,UAChB,CAAK,CACF,CACH,EAEamF,GAA0B,MAAO,EAAGlD,IAAQ,CACvD,MAAM5B,EAAK4B,GAAO,EAAE,cAAc,QAAQ,GACpCmD,EAAM,MAAMxF,EAAS,gBAAgBS,CAAE,EAE7CwC,GAAM,WAAYlB,EAAS,cAAcyD,CAAG,EAAG,mBAAmB,EAClEjC,EAAU,UAAU,EAEpB,MAAMkC,EAAoB,SAAS,cAAc,sBAAsB,EACjEC,EAAe,SAAS,cAAc,mBAAmB,EAE/DD,EAAkB,iBAAiB,QAAS,IAAM,CAChD,MAAMhF,EAAK+E,EAAI,IACTG,EAAW7E,GAAiBL,CAAE,EAE9BmF,EAAOH,EAAkB,cAAc,iBAAiB,EAE9D,GAAIE,EAAU,CACZF,EAAkB,YAAc,wBAChCA,EAAkB,YAAYG,EAAK,QAAQ,KAAK,CAAC,EACjDA,EAAK,aAAa,OAAQ,2BAA2B,EAErD,MAAMC,EAAe,SAAS,cAC5B,4BAA4BpF,CAAE,wBACtC,EAEYqF,EAAmB;AAAA;AAAA,4BAEHrF,CAAE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0BAUxBoF,EAAa,mBAAmB,cAAeC,CAAgB,EAE/D,MAAMC,EAAY,SAAS,cACzB,wCAAwCtF,CAAE,IAClD,EACUsF,GACFA,EAAU,iBAAiB,QAASjB,EAAoB,CAEhE,KAAW,CACLW,EAAkB,YAAc,mBAChCA,EAAkB,YAAYG,EAAK,QAAQ,KAAK,CAAC,EACjDA,EAAK,aAAa,OAAQ,2BAA2B,EAErD,MAAMG,EAAY,SAAS,cACzB,wCAAwCtF,CAAE,IAClD,EACUsF,GACFA,EAAU,OAAM,CAEnB,CACL,CAAG,EAEDL,EAAa,iBAAiB,QAAS,IAAM,CAC3C,MAAMM,EAAc,SAAS,cAAc,kBAAkB,EACzDA,GACFA,EAAY,OAAM,EAGpB,MAAMC,EAAoBlE,EAAS,cACnCkB,GAAM,SAAUgD,EAAmB,gBAAgB,EACnD1C,EAAU,QAAQ,EAEM,SAAS,cAAc,0BAA0B,EACzD,iBAAiB,QAASzG,GACxCoI,GAAmBpI,EAAO2D,CAAE,CAClC,EAEI,MAAM0E,EAAO,SAAS,cAAc,cAAc,EAC5Ce,EAAaf,EAAK,iBAAiB,oBAAoB,EACvDgB,EAAYhB,EAAK,cAAc,oBAAoB,EAEzDe,EAAW,QAAQE,GAAS,CAC1BA,EAAM,iBAAiB,SAAU,IAAM,CACrCD,EAAU,YAAcC,EAAM,KACtC,CAAO,CACP,CAAK,CACL,CAAG,CACH,EAEMC,GAAe,IAAM,CACzB,MAAMC,EAAc,SAAS,cAAc,mBAAmB,EACxDC,EAAqB,SAAS,cAAc,wBAAwB,EAE1E,GAAI,CAACD,GAAe,CAACC,EAAoB,OAEzC,IAAIC,EAAY,KAEhBF,EAAY,iBAAiB,QAASG,GAAK,CACzC,MAAMC,EAAQD,EAAE,OAAO,MAAM,KAAI,EAE7BC,EAAM,OAAS,EACjBH,EAAmB,UAAU,IAAI,SAAS,EAE1CA,EAAmB,UAAU,OAAO,SAAS,EAG/C,aAAaC,CAAS,EACtBA,EAAY,WAAW,SAAY,CACjC,MAAMG,GAAcD,CAAK,CAC1B,EAAE,GAAG,CACV,CAAG,EAEDH,EAAmB,iBAAiB,QAAS,SAAY,CACvDD,EAAY,MAAQ,GACpBC,EAAmB,UAAU,OAAO,SAAS,EAE7CpC,EAAqB,GAErB,MAAMwC,GAAc,EAAE,CAC1B,CAAG,CACH,EAEMA,GAAgB,MAAMD,GAAS,CACnCvC,EAAqBuC,EAErB,GAAI,CACFpC,KAEA,MAAMkB,EAAM,MAAMxF,EAAS,sBACzBA,EAAS,WACTgE,EACAC,EACA,GACAyC,CACN,EAII,GAFAxC,EAAsBsB,EAAI,YAAc,EAEpC,CAACA,EAAI,QAAQ,OAAQ,CACvBxJ,EAAK,eAAe,UAAU,OAAO,WAAW,EAChDA,EAAK,OAAO,UAAY,GACxBA,EAAK,OAAO,MAAM,QAAU,OAC5BA,EAAK,cAAc,MAAM,QAAU,OACnC,MACD,CAEDA,EAAK,OAAO,MAAM,QAAU,OAC5BA,EAAK,cAAc,MAAM,QAAU,OACnCA,EAAK,eAAe,UAAU,IAAI,WAAW,EAC7CA,EAAK,OAAO,UAAU,IAAI,iBAAiB,EAE3C,MAAM4K,EAAQpB,EAAI,QAAQ,IAAI3E,GAAQkB,EAAS,aAAalB,CAAI,CAAC,EACjE7E,EAAK,OAAO,UAAY4K,EAAM,KAAK,EAAE,EAErCrC,EAAqBL,CAAmB,EACxCS,EAA0BV,CAAoB,EAE9C4C,IACD,OAAQnI,EAAO,CACd,QAAQ,MAAM,gBAAiBA,CAAK,CACrC,CACH,EAEMoI,GAAsB,MAAM,GAAK,CACrC9C,EAAsB,EAAE,cAAc,QAAQ,aAC9CD,EAAc,YACdE,EAAuB,EAEvB,MAAM8C,GAAuB,CAC/B,EAEMA,GAA0B,SAAY,CAC1C,MAAMvB,EAAM,MAAMxF,EAAS,sBACzBA,EAAS,WACTgE,EACAC,EACA,GACAE,CACJ,EAUE,GARAD,EAAsBsB,EAAI,YAAc,EAExCxJ,EAAK,oBAAoB,UAAU,IAAI,iBAAiB,EACxDA,EAAK,UAAU,UAAU,IAAI,SAAS,EACtCA,EAAK,oBAAoB,UAAU,IAAI,SAAS,EAChDA,EAAK,oBAAoB,cAAc,qBAAqB,EAAE,UAC5DgI,EAEE,CAACwB,EAAI,QAAQ,OAAQ,CACvB,QAAQ,IAAI,OAAO,EACnBxJ,EAAK,eAAe,UAAU,OAAO,WAAW,EAChDA,EAAK,OAAO,UAAY,GACxBA,EAAK,OAAO,MAAM,QAAU,OAC5B,MACD,CAEDA,EAAK,OAAO,MAAM,QAAU,OAC5BA,EAAK,eAAe,UAAU,IAAI,WAAW,EAC7CA,EAAK,UAAU,UAAU,IAAI,SAAS,EACtCA,EAAK,OAAO,UAAU,IAAI,iBAAiB,EAC3C,MAAM4K,EAAQpB,EAAI,QAAQ,IAAI3E,GAAQkB,EAAS,aAAalB,CAAI,CAAC,EACjE7E,EAAK,OAAO,UAAY4K,EAAM,KAAK,EAAE,EAErCrC,EAAqBL,CAAmB,EACxCS,EAA0BV,CAAoB,EAE9CoC,KACAQ,IACF,EAIMA,GAA2B,IAAM,CACrC,MAAMG,EAAgB,SAAS,iBAAiB,iBAAiB,EAC3DC,EAA0B,SAAS,iBACvC,6BACJ,EAEED,EAAc,QAAQE,GACpBA,EAAK,iBAAiB,QAAS3B,EAAuB,CAC1D,EAEE0B,EAAwB,QAAQ5D,GAC9BA,EAAI,iBAAiB,QAASyB,EAAoB,CACtD,CACA,EAEMqC,GAAmC,IAAM,CACvB,SAAS,iBAAiB,iBAAiB,EACnD,QAAQD,GACpBA,EAAK,iBAAiB,QAASJ,EAAmB,CACtD,CACA,EAIMM,GAAiB7G,GAAQ,CAC7B,MAAMqG,EAAQrG,EAAK,QAAQ,IAAImE,GAAK3C,EAAS,aAAa2C,CAAC,CAAC,EAC5D1I,EAAK,OAAO,UAAY4K,EAAM,KAAK,EAAE,EAErCO,KACAvD,EAAkB,KAAK,IAAIgD,EAAM,OAAQ5G,EAAS,SAAS,CAC7D,EAIMqH,GAAc,SAAY,CAC9B,MAAMC,EAAU,SAAS,cAAc,aAAa,EACpD,GAAI,CAACA,EAAS,OAEd,MAAMC,EAAgB,CACpB,OAAQ,YACR,MAAO,2MACX,EAEQC,EAAcrG,KACpB,GAAIqG,EAAa,CACfF,EAAQ,UAAYvF,EAAS,cAAc,CACzC,MAAOyF,EAAY,MACnB,OAAQA,EAAY,MAC1B,CAAK,EACD,MACD,CAED,GAAI,CACF,MAAMhC,EAAM,MAAMxF,EAAS,WAC3BsH,EAAQ,UAAYvF,EAAS,cAAcyD,CAAG,EAE9CnE,GAAgBmE,EAAI,MAAOA,EAAI,MAAM,CACtC,OAAQ9G,EAAO,CACd,QAAQ,MAAM,wBAAyBA,CAAK,EAC5C4I,EAAQ,UAAYvF,EAAS,cAAcwF,CAAa,CACzD,CACH,EAIMlD,EAAyB,MAAO,CAAE,iBAAAoD,EAAmB,EAAK,EAAK,CAAA,IAAO,CAC1EnD,KAEA,MAAMkB,EAAM,MAAMxF,EAAS,kBAC3BoH,GAAe5B,CAAG,EAEdiC,GACFlD,EAAqBvE,EAAS,UAAU,EAG1C2E,EAA0B3E,EAAS,WAAW,CAChD,EAEM0H,GAAkB,SAAY,CAClC,GAAI,CACFL,KAIA,MAAM7B,EAAM,MAAMxF,EAAS,kBAEvBhE,EAAK,OAAO,SAAS,CAAC,GACxBA,EAAK,OAAO,SAAS,CAAC,EAAE,UAAU,IAAI,QAAQ,EAEhDoL,GAAe5B,CAAG,EAClBjB,EAAqBvE,EAAS,UAAU,EACxC2E,EAA0B3E,EAAS,WAAW,CAC/C,OAAQtB,EAAO,CACd,QAAQ,IAAI,cAAeA,CAAK,CACjC,CACH,EAIMiJ,GAAmB,MAAM,GAAK,CAClC,GAAI,CACF5D,EAAc,aACdC,EAAsB,KACtBhI,EAAK,OAAO,UAAU,OAAO,iBAAiB,EAE9C,MAAM4L,EAAa,EAAE,OAAO,QAAQ,QAAQ,EAC5C,GAAI,CAACA,EAAY,OAEjB,MAAMC,EAAeD,EAAW,QAAQ,KACxC,GAAI,CAACC,EAAc,OAEnB7H,EAAS,iBAAiB6H,CAAY,EAEtCjE,EAAkB5D,EAAS,UAE3B,CAAC,GAAG,EAAE,cAAc,QAAQ,EAAE,QAAQqD,GACpCA,EAAI,UAAU,OAAO,QAAQ,CACnC,EACIuE,EAAW,UAAU,IAAI,QAAQ,EAEjC,MAAMvD,EAAuB,CAAE,iBAAkB,EAAM,CAAA,EACvDrI,EAAK,oBAAoB,UAAU,OAAO,iBAAiB,EAC3DA,EAAK,UAAU,UAAU,OAAO,SAAS,EACzCA,EAAK,oBAAoB,UAAU,OAAO,SAAS,EACnDA,EAAK,OAAO,MAAM,QAAU,MAC7B,OAAQ0C,EAAO,CACd,QAAQ,MAAM,gBAAiBA,CAAK,CACrC,CACH,EAEMoJ,GAAuB,MAAM,GAAK,CACtC,GAAI,CACF,MAAMF,EAAa,EAAE,OAAO,QAAQ,QAAQ,EAC5C,GAAI,CAACA,EAAY,OAEjB,MAAMG,EAAiB,OAAOH,EAAW,YAAY,KAAM,CAAA,EAC3D,GAAI,CAAC,OAAO,SAASG,CAAc,EAAG,OAEtC,GAAIhE,IAAgB,YAAa,CAC/B,GAAIgE,IAAmB9D,EAAsB,OAC7CA,EAAuB8D,EACvB,MAAMhB,GAAuB,CACnC,KAAW,CACL,GAAIgB,IAAmB/H,EAAS,YAAa,OAC7CA,EAAS,YAAc+H,EACvB,MAAM1D,EAAsB,CAC7B,CACF,OAAQ3F,EAAO,CACd,QAAQ,MAAM,oBAAqBA,CAAK,CACzC,CACH,EAIAgJ,KAII1L,EAAK,SACP,OAAO,iBAAiB,SAAUoI,EAAQ,EAC1CpI,EAAK,OAAO,iBAAiB,QAAS2L,EAAgB,GAEpD3L,EAAK,eACPA,EAAK,cAAc,iBAAiB,QAAS8L,EAAoB,ECthBnE,SAAS,iBAAiB,mBAAoB,IAAM,CAClD,MAAM1B,EAAQ,SAAS,cAAc,mBAAmB,EAClD4B,EAAW,SAAS,cAAc,uBAAuB,EAE3D,CAAC5B,GAAS,CAAC4B,IAEf5B,EAAM,iBAAiB,QAAS,IAAM,CAChCA,EAAM,MAAM,KAAI,IAAO,GACzB4B,EAAS,UAAU,OAAO,iBAAiB,EAE3CA,EAAS,UAAU,IAAI,iBAAiB,CAE9C,CAAG,EAEDA,EAAS,iBAAiB,QAASvB,GAAK,CACtCA,EAAE,eAAc,EAChBL,EAAM,MAAQ,GACd4B,EAAS,UAAU,IAAI,iBAAiB,EACxC5B,EAAM,MAAK,CACf,CAAG,EACH,CAAC"}