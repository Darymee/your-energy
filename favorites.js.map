{"version":3,"file":"favorites.js","sources":["../src/js/favorites.js"],"sourcesContent":["const API_URL = 'https://your-energy.b.goit.study/api';\nconst STORAGE_KEY = 'favorites';\nconst iconPath = './img/sprite.svg';\n\nconst refs = {\n  quoteText: document.querySelector('.js-quote-text'),\n  quoteAuthor: document.querySelector('.js-quote-author'),\n  listContainer: document.querySelector('.js-favorites-list'),\n  emptyMessage: document.querySelector('.js-favorites-empty'),\n};\n\ndocument.addEventListener('DOMContentLoaded', () => {\n  fetchQuote();\n  renderFavorites();\n});\n\nasync function fetchQuote() {\n  if (!refs.quoteText) return;\n\n  try {\n    const response = await fetch(`${API_URL}/quote`);\n    if (!response.ok) throw new Error('Failed to fetch quote');\n\n    const { author, quote } = await response.json();\n\n    refs.quoteText.textContent = quote;\n    refs.quoteAuthor.textContent = author;\n  } catch (error) {\n    console.error('Error getting quote:', error);\n    refs.quoteText.textContent =\n      'Your body can stand almost anything. Itâ€™s your mind that you have to convince.';\n    refs.quoteAuthor.textContent = 'Unknown';\n  }\n}\n\nfunction getFavorites() {\n  try {\n    const data = localStorage.getItem(STORAGE_KEY);\n    return data ? JSON.parse(data) : [];\n  } catch (error) {\n    console.error('Error parsing localStorage:', error);\n    return [];\n  }\n}\n\nfunction renderFavorites() {\n  if (!refs.listContainer) return;\n\n  const favorites = getFavorites();\n\n  if (favorites.length === 0) {\n    refs.listContainer.innerHTML = '';\n    refs.emptyMessage.classList.remove('is-hidden');\n  } else {\n    refs.emptyMessage.classList.add('is-hidden');\n    refs.listContainer.innerHTML = createMarkup(favorites);\n    addEventListeners();\n  }\n}\n\nfunction createMarkup(arr) {\n  return arr\n    .map(\n      ({ _id, name, burnedCalories, time, bodyPart, target }) => `\n      <li class=\"favorites-item\">\n        <div class=\"card-header\">\n          <div class=\"card-badge\">WORKOUT</div>\n          \n          <button class=\"card-btn-delete js-delete-btn\" data-id=\"${_id}\" type=\"button\" aria-label=\"Remove\">\n            <svg class=\"card-icon-trash\" width=\"16\" height=\"16\">\n              <use href=\"${iconPath}#icon-trash\"></use>\n            </svg>\n          </button>\n          \n          <button class=\"card-btn-start js-start-btn\" data-id=\"${_id}\" type=\"button\">\n              Start\n              <svg class=\"card-icon-arrow\" width=\"16\" height=\"16\">\n                  <use href=\"${iconPath}#icon-arrow-right\"></use>\n              </svg>\n          </button>\n        </div>\n  \n        <div class=\"card-title-wrapper\">\n          <div class=\"card-icon-run-bg\">\n              <svg class=\"card-icon-run\" width=\"14\" height=\"16\">\n                  <use href=\"${iconPath}#icon-running-stick-figure\"></use>\n              </svg>\n          </div>\n          <h3 class=\"card-title\">${capitalize(name)}</h3>\n        </div>\n  \n        <ul class=\"card-info-list\">\n          <li class=\"card-info-item\">\n              <span class=\"info-label\">Burned calories:</span>\n              <span class=\"info-value\">${burnedCalories} / ${time} min</span>\n          </li>\n          <li class=\"card-info-item\">\n              <span class=\"info-label\">Body part:</span>\n              <span class=\"info-value\">${capitalize(bodyPart)}</span>\n          </li>\n          <li class=\"card-info-item\">\n              <span class=\"info-label\">Target:</span>\n              <span class=\"info-value\">${capitalize(target)}</span>\n          </li>\n        </ul>\n      </li>\n    `\n    )\n    .join('');\n}\n\nfunction capitalize(str) {\n  if (!str) return '';\n  return str.charAt(0).toUpperCase() + str.slice(1);\n}\n\nfunction addEventListeners() {\n  const deleteBtns = refs.listContainer.querySelectorAll('.js-delete-btn');\n  const startBtns = refs.listContainer.querySelectorAll('.js-start-btn');\n\n  deleteBtns.forEach(btn => {\n    btn.addEventListener('click', handleDelete);\n  });\n\n  startBtns.forEach(btn => {\n    btn.addEventListener('click', handleStart);\n  });\n}\n\nfunction handleDelete(event) {\n  const btn = event.currentTarget;\n  const id = btn.dataset.id;\n\n  const favorites = getFavorites();\n  const updatedFavorites = favorites.filter(item => item._id !== id);\n\n  localStorage.setItem(STORAGE_KEY, JSON.stringify(updatedFavorites));\n  renderFavorites();\n}\n\nfunction handleStart(event) {\n  const btn = event.currentTarget;\n  const id = btn.dataset.id;\n\n  console.log(`Open modal for exercise ID: ${id}`);\n}\n"],"names":["API_URL","STORAGE_KEY","iconPath","refs","fetchQuote","renderFavorites","response","author","quote","error","getFavorites","data","favorites","createMarkup","addEventListeners","arr","_id","name","burnedCalories","time","bodyPart","target","capitalize","str","deleteBtns","startBtns","btn","handleDelete","handleStart","event","id","updatedFavorites","item"],"mappings":"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"}